(window.LearnosityAmd=window.LearnosityAmd||[]).push([[3],{174:function(n,e,r){var o,i;!function(){var a={version:"3.4.3"};Date.now||(Date.now=function(){return+new Date});var u=[].slice,d3_array=function(n){return u.call(n)},l=document,c=l.documentElement,s=window;try{d3_array(c.childNodes)[0].nodeType}catch(n){d3_array=function(n){for(var e=n.length,r=new Array(e);e--;)r[e]=n[e];return r}}try{l.createElement("div").style.setProperty("opacity",0,"")}catch(n){var d=s.Element.prototype,f=d.setAttribute,_=d.setAttributeNS,h=s.CSSStyleDeclaration.prototype,g=h.setProperty;d.setAttribute=function(n,e){f.call(this,n,e+"")},d.setAttributeNS=function(n,e,r){_.call(this,n,e,r+"")},h.setProperty=function(n,e,r){g.call(this,n,e+"",r)}}function d3_number(n){return null!=n&&!isNaN(n)}a.ascending=function(n,e){return n<e?-1:n>e?1:n>=e?0:NaN},a.descending=function(n,e){return e<n?-1:e>n?1:e>=n?0:NaN},a.min=function(n,e){var r,o,i=-1,a=n.length;if(1===arguments.length){for(;++i<a&&!(null!=(r=n[i])&&r<=r);)r=void 0;for(;++i<a;)null!=(o=n[i])&&r>o&&(r=o)}else{for(;++i<a&&!(null!=(r=e.call(n,n[i],i))&&r<=r);)r=void 0;for(;++i<a;)null!=(o=e.call(n,n[i],i))&&r>o&&(r=o)}return r},a.max=function(n,e){var r,o,i=-1,a=n.length;if(1===arguments.length){for(;++i<a&&!(null!=(r=n[i])&&r<=r);)r=void 0;for(;++i<a;)null!=(o=n[i])&&o>r&&(r=o)}else{for(;++i<a&&!(null!=(r=e.call(n,n[i],i))&&r<=r);)r=void 0;for(;++i<a;)null!=(o=e.call(n,n[i],i))&&o>r&&(r=o)}return r},a.extent=function(n,e){var r,o,i,a=-1,u=n.length;if(1===arguments.length){for(;++a<u&&!(null!=(r=i=n[a])&&r<=r);)r=i=void 0;for(;++a<u;)null!=(o=n[a])&&(r>o&&(r=o),i<o&&(i=o))}else{for(;++a<u&&!(null!=(r=i=e.call(n,n[a],a))&&r<=r);)r=void 0;for(;++a<u;)null!=(o=e.call(n,n[a],a))&&(r>o&&(r=o),i<o&&(i=o))}return[r,i]},a.sum=function(n,e){var r,o=0,i=n.length,a=-1;if(1===arguments.length)for(;++a<i;)isNaN(r=+n[a])||(o+=r);else for(;++a<i;)isNaN(r=+e.call(n,n[a],a))||(o+=r);return o},a.mean=function(n,e){var r,o=n.length,i=0,a=-1,u=0;if(1===arguments.length)for(;++a<o;)d3_number(r=n[a])&&(i+=(r-i)/++u);else for(;++a<o;)d3_number(r=e.call(n,n[a],a))&&(i+=(r-i)/++u);return u?i:void 0},a.quantile=function(n,e){var r=(n.length-1)*e+1,o=Math.floor(r),i=+n[o-1],a=r-o;return a?i+a*(n[o]-i):i},a.median=function(n,e){return arguments.length>1&&(n=n.map(e)),(n=n.filter(d3_number)).length?a.quantile(n.sort(a.ascending),.5):void 0},a.bisector=function(n){return{left:function(e,r,o,i){for(arguments.length<3&&(o=0),arguments.length<4&&(i=e.length);o<i;){var a=o+i>>>1;n.call(e,e[a],a)<r?o=a+1:i=a}return o},right:function(e,r,o,i){for(arguments.length<3&&(o=0),arguments.length<4&&(i=e.length);o<i;){var a=o+i>>>1;r<n.call(e,e[a],a)?i=a:o=a+1}return o}}};var p=a.bisector((function(n){return n}));function d3_zipLength(n){return n.length}a.bisectLeft=p.left,a.bisect=a.bisectRight=p.right,a.shuffle=function(n){for(var e,r,o=n.length;o;)r=Math.random()*o--|0,e=n[o],n[o]=n[r],n[r]=e;return n},a.permute=function(n,e){for(var r=e.length,o=new Array(r);r--;)o[r]=n[e[r]];return o},a.pairs=function(n){for(var e=0,r=n.length-1,o=n[0],i=new Array(r<0?0:r);e<r;)i[e]=[o,o=n[++e]];return i},a.zip=function(){if(!(o=arguments.length))return[];for(var n=-1,e=a.min(arguments,d3_zipLength),r=new Array(e);++n<e;)for(var o,i=-1,u=r[n]=new Array(o);++i<o;)u[i]=arguments[i][n];return r},a.transpose=function(n){return a.zip.apply(a,n)},a.keys=function(n){var e=[];for(var r in n)e.push(r);return e},a.values=function(n){var e=[];for(var r in n)e.push(n[r]);return e},a.entries=function(n){var e=[];for(var r in n)e.push({key:r,value:n[r]});return e},a.merge=function(n){for(var e,r,o,i=n.length,a=-1,u=0;++a<i;)u+=n[a].length;for(r=new Array(u);--i>=0;)for(e=(o=n[i]).length;--e>=0;)r[--u]=o[e];return r};var m=Math.abs;function d3_range_integerScale(n){for(var e=1;n*e%1;)e*=10;return e}function d3_class(n,e){try{for(var r in e)Object.defineProperty(n.prototype,r,{value:e[r],enumerable:!1})}catch(r){n.prototype=e}}function d3_Map(){}a.range=function(n,e,r){if(arguments.length<3&&(r=1,arguments.length<2&&(e=n,n=0)),(e-n)/r==1/0)throw new Error("infinite range");var o,i=[],a=d3_range_integerScale(m(r)),u=-1;if(n*=a,e*=a,(r*=a)<0)for(;(o=n+r*++u)>e;)i.push(o/a);else for(;(o=n+r*++u)<e;)i.push(o/a);return i},a.map=function(n){var e=new d3_Map;if(n instanceof d3_Map)n.forEach((function(n,r){e.set(n,r)}));else for(var r in n)e.set(r,n[r]);return e},d3_class(d3_Map,{has:d3_map_has,get:function(n){return this[y+n]},set:function(n,e){return this[y+n]=e},remove:function d3_map_remove(n){return(n=y+n)in this&&delete this[n]},keys:d3_map_keys,values:function(){var n=[];return this.forEach((function(e,r){n.push(r)})),n},entries:function(){var n=[];return this.forEach((function(e,r){n.push({key:e,value:r})})),n},size:d3_map_size,empty:d3_map_empty,forEach:function(n){for(var e in this)e.charCodeAt(0)===x&&n.call(this,e.substring(1),this[e])}});var y="\0",x=y.charCodeAt(0);function d3_map_has(n){return y+n in this}function d3_map_keys(){var n=[];return this.forEach((function(e){n.push(e)})),n}function d3_map_size(){var n=0;for(var e in this)e.charCodeAt(0)===x&&++n;return n}function d3_map_empty(){for(var n in this)if(n.charCodeAt(0)===x)return!1;return!0}function d3_Set(){}function d3_rebind(n,e,r){return function(){var o=r.apply(e,arguments);return o===e?n:o}}function d3_vendorSymbol(n,e){if(e in n)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var r=0,o=b.length;r<o;++r){var i=b[r]+e;if(i in n)return i}}a.nest=function(){var n,e,r={},o=[],i=[];function map(i,a,u){if(u>=o.length)return e?e.call(r,a):n?a.sort(n):a;for(var l,c,s,d,f=-1,_=a.length,h=o[u++],g=new d3_Map;++f<_;)(d=g.get(l=h(c=a[f])))?d.push(c):g.set(l,[c]);return i?(c=i(),s=function(n,e){c.set(n,map(i,e,u))}):(c={},s=function(n,e){c[n]=map(i,e,u)}),g.forEach(s),c}return r.map=function(n,e){return map(e,n,0)},r.entries=function(n){return function entries(n,e){if(e>=o.length)return n;var r=[],a=i[e++];return n.forEach((function(n,o){r.push({key:n,values:entries(o,e)})})),a?r.sort((function(n,e){return a(n.key,e.key)})):r}(map(a.map,n,0),0)},r.key=function(n){return o.push(n),r},r.sortKeys=function(n){return i[o.length-1]=n,r},r.sortValues=function(e){return n=e,r},r.rollup=function(n){return e=n,r},r},a.set=function(n){var e=new d3_Set;if(n)for(var r=0,o=n.length;r<o;++r)e.add(n[r]);return e},d3_class(d3_Set,{has:d3_map_has,add:function(n){return this[y+n]=!0,n},remove:function(n){return(n=y+n)in this&&delete this[n]},values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(n){for(var e in this)e.charCodeAt(0)===x&&n.call(this,e.substring(1))}}),a.behavior={},a.rebind=function(n,e){for(var r,o=1,i=arguments.length;++o<i;)n[r=arguments[o]]=d3_rebind(n,e,e[r]);return n};var b=["webkit","ms","moz","Moz","o","O"];function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(n){var e=[],r=new d3_Map;function event(){for(var r,o=e,i=-1,a=o.length;++i<a;)(r=o[i].on)&&r.apply(this,arguments);return n}return event.on=function(o,i){var a,u=r.get(o);return arguments.length<2?u&&u.on:(u&&(u.on=null,e=e.slice(0,a=e.indexOf(u)).concat(e.slice(a+1)),r.remove(o)),i&&e.push(r.set(o,{on:i})),n)},event}function d3_eventPreventDefault(){a.event.preventDefault()}function d3_eventSource(){for(var n,e=a.event;n=e.sourceEvent;)e=n;return e}function d3_eventDispatch(n){for(var e=new d3_dispatch,r=0,o=arguments.length;++r<o;)e[arguments[r]]=d3_dispatch_event(e);return e.of=function(r,o){return function(i){try{var u=i.sourceEvent=a.event;i.target=n,a.event=i,e[i.type].apply(r,o)}finally{a.event=u}}},e}a.dispatch=function(){for(var n=new d3_dispatch,e=-1,r=arguments.length;++e<r;)n[arguments[e]]=d3_dispatch_event(n);return n},d3_dispatch.prototype.on=function(n,e){var r=n.indexOf("."),o="";if(r>=0&&(o=n.substring(r+1),n=n.substring(0,r)),n)return arguments.length<2?this[n].on(o):this[n].on(o,e);if(2===arguments.length){if(null==e)for(n in this)this.hasOwnProperty(n)&&this[n].on(o,null);return this}},a.event=null,a.requote=function(n){return n.replace(M,"\\$&")};var M=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,k={}.__proto__?function(n,e){n.__proto__=e}:function(n,e){for(var r in e)n[r]=e[r]};function d3_selection(n){return k(n,S),n}var d3_select=function(n,e){return e.querySelector(n)},d3_selectAll=function(n,e){return e.querySelectorAll(n)},w=c[d3_vendorSymbol(c,"matchesSelector")],d3_selectMatches=function(n,e){return w.call(n,e)};"function"==typeof Sizzle&&(d3_select=function(n,e){return Sizzle(n,e)[0]||null},d3_selectAll=function(n,e){return Sizzle.uniqueSort(Sizzle(n,e))},d3_selectMatches=Sizzle.matchesSelector),a.selection=function(){return C};var S=a.selection.prototype=[];function d3_selection_selector(n){return"function"==typeof n?n:function(){return d3_select(n,this)}}function d3_selection_selectorAll(n){return"function"==typeof n?n:function(){return d3_selectAll(n,this)}}S.select=function(n){var e,r,o,i,a=[];n=d3_selection_selector(n);for(var u=-1,l=this.length;++u<l;){a.push(e=[]),e.parentNode=(o=this[u]).parentNode;for(var c=-1,s=o.length;++c<s;)(i=o[c])?(e.push(r=n.call(i,i.__data__,c,u)),r&&"__data__"in i&&(r.__data__=i.__data__)):e.push(null)}return d3_selection(a)},S.selectAll=function(n){var e,r,o=[];n=d3_selection_selectorAll(n);for(var i=-1,a=this.length;++i<a;)for(var u=this[i],l=-1,c=u.length;++l<c;)(r=u[l])&&(o.push(e=d3_array(n.call(r,r.__data__,l,i))),e.parentNode=r);return d3_selection(o)};var E={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function d3_selection_attr(n,e){return n=a.ns.qualify(n),null==e?n.local?function attrNullNS(){this.removeAttributeNS(n.space,n.local)}:function attrNull(){this.removeAttribute(n)}:"function"==typeof e?n.local?function attrFunctionNS(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}:function attrFunction(){var r=e.apply(this,arguments);null==r?this.removeAttribute(n):this.setAttribute(n,r)}:n.local?function attrConstantNS(){this.setAttributeNS(n.space,n.local,e)}:function attrConstant(){this.setAttribute(n,e)}}function d3_collapse(n){return n.trim().replace(/\s+/g," ")}function d3_selection_classedRe(n){return new RegExp("(?:^|\\s+)"+a.requote(n)+"(?:\\s+|$)","g")}function d3_selection_classes(n){return n.trim().split(/^|\s+/)}function d3_selection_classed(n,e){var r=(n=d3_selection_classes(n).map(d3_selection_classedName)).length;return"function"==typeof e?function classedFunction(){for(var o=-1,i=e.apply(this,arguments);++o<r;)n[o](this,i)}:function classedConstant(){for(var o=-1;++o<r;)n[o](this,e)}}function d3_selection_classedName(n){var e=d3_selection_classedRe(n);return function(r,o){if(i=r.classList)return o?i.add(n):i.remove(n);var i=r.getAttribute("class")||"";o?(e.lastIndex=0,e.test(i)||r.setAttribute("class",d3_collapse(i+" "+n))):r.setAttribute("class",d3_collapse(i.replace(e," ")))}}function d3_selection_style(n,e,r){return null==e?function styleNull(){this.style.removeProperty(n)}:"function"==typeof e?function styleFunction(){var o=e.apply(this,arguments);null==o?this.style.removeProperty(n):this.style.setProperty(n,o,r)}:function styleConstant(){this.style.setProperty(n,e,r)}}function d3_selection_property(n,e){return null==e?function propertyNull(){delete this[n]}:"function"==typeof e?function propertyFunction(){var r=e.apply(this,arguments);null==r?delete this[n]:this[n]=r}:function propertyConstant(){this[n]=e}}function d3_selection_creator(n){return"function"==typeof n?n:(n=a.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,n)}}function d3_selection_dataNode(n){return{__data__:n}}function d3_selection_filter(n){return function(){return d3_selectMatches(this,n)}}function d3_selection_sortComparator(n){return arguments.length||(n=a.ascending),function(e,r){return e&&r?n(e.__data__,r.__data__):!e-!r}}function d3_selection_each(n,e){for(var r=0,o=n.length;r<o;r++)for(var i,a=n[r],u=0,l=a.length;u<l;u++)(i=a[u])&&e(i,u,r);return n}function d3_selection_enter(n){return k(n,N),n}a.ns={prefix:E,qualify:function(n){var e=n.indexOf(":"),r=n;return e>=0&&(r=n.substring(0,e),n=n.substring(e+1)),E.hasOwnProperty(r)?{space:E[r],local:n}:n}},S.attr=function(n,e){if(arguments.length<2){if("string"==typeof n){var r=this.node();return(n=a.ns.qualify(n)).local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}for(e in n)this.each(d3_selection_attr(e,n[e]));return this}return this.each(d3_selection_attr(n,e))},S.classed=function(n,e){if(arguments.length<2){if("string"==typeof n){var r=this.node(),o=(n=d3_selection_classes(n)).length,i=-1;if(e=r.classList){for(;++i<o;)if(!e.contains(n[i]))return!1}else for(e=r.getAttribute("class");++i<o;)if(!d3_selection_classedRe(n[i]).test(e))return!1;return!0}for(e in n)this.each(d3_selection_classed(e,n[e]));return this}return this.each(d3_selection_classed(n,e))},S.style=function(n,e,r){var o=arguments.length;if(o<3){if("string"!=typeof n){for(r in o<2&&(e=""),n)this.each(d3_selection_style(r,n[r],e));return this}if(o<2)return s.getComputedStyle(this.node(),null).getPropertyValue(n);r=""}return this.each(d3_selection_style(n,e,r))},S.property=function(n,e){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(e in n)this.each(d3_selection_property(e,n[e]));return this}return this.each(d3_selection_property(n,e))},S.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var e=n.apply(this,arguments);this.textContent=null==e?"":e}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},S.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var e=n.apply(this,arguments);this.innerHTML=null==e?"":e}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},S.append=function(n){return n=d3_selection_creator(n),this.select((function(){return this.appendChild(n.apply(this,arguments))}))},S.insert=function(n,e){return n=d3_selection_creator(n),e=d3_selection_selector(e),this.select((function(){return this.insertBefore(n.apply(this,arguments),e.apply(this,arguments)||null)}))},S.remove=function(){return this.each((function(){var n=this.parentNode;n&&n.removeChild(this)}))},S.data=function(n,e){var r,o,i=-1,a=this.length;if(!arguments.length){for(n=new Array(a=(r=this[0]).length);++i<a;)(o=r[i])&&(n[i]=o.__data__);return n}function bind(n,r){var o,i,a,s=n.length,d=r.length,f=Math.min(s,d),_=new Array(d),h=new Array(d),g=new Array(s);if(e){var p,m=new d3_Map,y=new d3_Map,x=[];for(o=-1;++o<s;)p=e.call(i=n[o],i.__data__,o),m.has(p)?g[o]=i:m.set(p,i),x.push(p);for(o=-1;++o<d;)p=e.call(r,a=r[o],o),(i=m.get(p))?(_[o]=i,i.__data__=a):y.has(p)||(h[o]=d3_selection_dataNode(a)),y.set(p,a),m.remove(p);for(o=-1;++o<s;)m.has(x[o])&&(g[o]=n[o])}else{for(o=-1;++o<f;)i=n[o],a=r[o],i?(i.__data__=a,_[o]=i):h[o]=d3_selection_dataNode(a);for(;o<d;++o)h[o]=d3_selection_dataNode(r[o]);for(;o<s;++o)g[o]=n[o]}h.update=_,h.parentNode=_.parentNode=g.parentNode=n.parentNode,u.push(h),l.push(_),c.push(g)}var u=d3_selection_enter([]),l=d3_selection([]),c=d3_selection([]);if("function"==typeof n)for(;++i<a;)bind(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<a;)bind(r=this[i],n);return l.enter=function(){return u},l.exit=function(){return c},l},S.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},S.filter=function(n){var e,r,o,i=[];"function"!=typeof n&&(n=d3_selection_filter(n));for(var a=0,u=this.length;a<u;a++){i.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=0,c=r.length;l<c;l++)(o=r[l])&&n.call(o,o.__data__,l,a)&&e.push(o)}return d3_selection(i)},S.order=function(){for(var n=-1,e=this.length;++n<e;)for(var r,o=this[n],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},S.sort=function(n){n=d3_selection_sortComparator.apply(this,arguments);for(var e=-1,r=this.length;++e<r;)this[e].sort(n);return this.order()},S.each=function(n){return d3_selection_each(this,(function(e,r,o){n.call(e,e.__data__,r,o)}))},S.call=function(n){var e=d3_array(arguments);return n.apply(e[0]=this,e),this},S.empty=function(){return!this.node()},S.node=function(){for(var n=0,e=this.length;n<e;n++)for(var r=this[n],o=0,i=r.length;o<i;o++){var a=r[o];if(a)return a}return null},S.size=function(){var n=0;return this.each((function(){++n})),n};var N=[];function d3_selection_enterInsertBefore(n){var e,r;return function(o,i,a){var u,l=n[a].update,c=l.length;for(a!=r&&(r=a,e=0),i>=e&&(e=i+1);!(u=l[e])&&++e<c;);return u}}function d3_selection_interrupt(){var n=this.__transition__;n&&++n.active}a.selection.enter=d3_selection_enter,a.selection.enter.prototype=N,N.append=S.append,N.empty=S.empty,N.node=S.node,N.call=S.call,N.size=S.size,N.select=function(n){for(var e,r,o,i,a,u=[],l=-1,c=this.length;++l<c;){o=(i=this[l]).update,u.push(e=[]),e.parentNode=i.parentNode;for(var s=-1,d=i.length;++s<d;)(a=i[s])?(e.push(o[s]=r=n.call(i.parentNode,a.__data__,s,l)),r.__data__=a.__data__):e.push(null)}return d3_selection(u)},N.insert=function(n,e){return arguments.length<2&&(e=d3_selection_enterInsertBefore(this)),S.insert.call(this,n,e)},S.transition=function(){for(var n,e,r=Rn||++Ln,o=[],i=An||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},a=-1,u=this.length;++a<u;){o.push(n=[]);for(var l=this[a],c=-1,s=l.length;++c<s;)(e=l[c])&&d3_transitionNode(e,c,r,i),n.push(e)}return d3_transition(o,r)},S.interrupt=function(){return this.each(d3_selection_interrupt)},a.select=function(n){var e=["string"==typeof n?d3_select(n,l):n];return e.parentNode=c,d3_selection([e])},a.selectAll=function(n){var e=d3_array("string"==typeof n?d3_selectAll(n,l):n);return e.parentNode=c,d3_selection([e])};var C=a.select(c);function d3_selection_on(n,e,r){var o="__on"+n,i=n.indexOf("."),u=d3_selection_onListener;i>0&&(n=n.substring(0,i));var l=R.get(n);function onRemove(){var e=this[o];e&&(this.removeEventListener(n,e,e.$),delete this[o])}return l&&(n=l,u=d3_selection_onFilter),i?e?function onAdd(){var i=u(e,d3_array(arguments));onRemove.call(this),this.addEventListener(n,this[o]=i,i.$=r),i._=e}:onRemove:e?d3_noop:function removeAll(){var e,r=new RegExp("^__on([^.]+)"+a.requote(n)+"$");for(var o in this)if(e=o.match(r)){var i=this[o];this.removeEventListener(e[1],i,i.$),delete this[o]}}}S.on=function(n,e,r){var o=arguments.length;if(o<3){if("string"!=typeof n){for(r in o<2&&(e=!1),n)this.each(d3_selection_on(r,n[r],e));return this}if(o<2)return(o=this.node()["__on"+n])&&o._;r=!1}return this.each(d3_selection_on(n,e,r))};var R=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function d3_selection_onListener(n,e){return function(r){var o=a.event;a.event=r,e[0]=this.__data__;try{n.apply(this,e)}finally{a.event=o}}}function d3_selection_onFilter(n,e){var r=d3_selection_onListener(n,e);return function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||r.call(this,n)}}R.forEach((function(n){"on"+n in l&&R.remove(n)}));var A="onselectstart"in l?null:d3_vendorSymbol(c.style,"userSelect"),P=0;function d3_event_dragSuppress(){var n=".dragsuppress-"+ ++P,e="click"+n,r=a.select(s).on("touchmove"+n,d3_eventPreventDefault).on("dragstart"+n,d3_eventPreventDefault).on("selectstart"+n,d3_eventPreventDefault);if(A){var o=c.style,i=o[A];o[A]="none"}return function(a){if(r.on(n,null),A&&(o[A]=i),a){function off(){r.on(e,null)}r.on(e,(function(){d3_eventPreventDefault(),off()}),!0),setTimeout(off,0)}}}a.mouse=function(n){return d3_mousePoint(n,d3_eventSource())};var L=/WebKit/.test(s.navigator.userAgent)?-1:0;function d3_mousePoint(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var o=r.createSVGPoint();if(L<0&&(s.scrollX||s.scrollY)){var i=(r=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();L=!(i.f||i.e),r.remove()}return L?(o.x=e.pageX,o.y=e.pageY):(o.x=e.clientX,o.y=e.clientY),[(o=o.matrixTransform(n.getScreenCTM().inverse())).x,o.y]}var u=n.getBoundingClientRect();return[e.clientX-u.left-n.clientLeft,e.clientY-u.top-n.clientTop]}a.touches=function(n,e){return arguments.length<2&&(e=d3_eventSource().touches),e?d3_array(e).map((function(e){var r=d3_mousePoint(n,e);return r.identifier=e.identifier,r})):[]},a.behavior.drag=function(){var n=d3_eventDispatch(drag,"drag","dragstart","dragend"),e=null,r=dragstart(d3_noop,a.mouse,"mousemove","mouseup"),o=dragstart((function touchid(){return a.event.changedTouches[0].identifier}),(function touchposition(n,e){return a.touches(n).filter((function(n){return n.identifier===e}))[0]}),"touchmove","touchend");function drag(){this.on("mousedown.drag",r).on("touchstart.drag",o)}function dragstart(r,o,i,u){return function(){var l,c=this,d=c.parentNode,f=n.of(c,arguments),_=a.event.target,h=r(),g=null==h?"drag":"drag-"+h,p=o(d,h),m=0,y=a.select(s).on(i+"."+g,moved).on(u+"."+g,ended),x=d3_event_dragSuppress();function moved(){var n=o(d,h);if(n){var e=n[0]-p[0],r=n[1]-p[1];m|=e|r,p=n,f({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:r})}}function ended(){y.on(i+"."+g,null).on(u+"."+g,null),x(m&&a.event.target===_),f({type:"dragend"})}l=e?[(l=e.apply(c,arguments)).x-p[0],l.y-p[1]]:[0,0],f({type:"dragstart"})}}return drag.origin=function(n){return arguments.length?(e=n,drag):e},a.rebind(drag,n,"on")};var z=Math.PI,T=2*z,q=z/2,D=1e-6,j=z/180,B=180/z;function d3_sgn(n){return n>0?1:n<0?-1:0}function d3_cross2d(n,e,r){return(e[0]-n[0])*(r[1]-n[1])-(e[1]-n[1])*(r[0]-n[0])}function d3_acos(n){return n>1?0:n<-1?z:Math.acos(n)}function d3_asin(n){return n>1?q:n<-1?-q:Math.asin(n)}function d3_cosh(n){return((n=Math.exp(n))+1/n)/2}function d3_haversin(n){return(n=Math.sin(n/2))*n}var F=Math.SQRT2;a.interpolateZoom=function(n,e){var r=n[0],o=n[1],i=n[2],a=e[0],u=e[1],l=e[2],c=a-r,s=u-o,d=c*c+s*s,f=Math.sqrt(d),_=(l*l-i*i+4*d)/(2*i*2*f),h=(l*l-i*i-4*d)/(2*l*2*f),g=Math.log(Math.sqrt(_*_+1)-_),p=Math.log(Math.sqrt(h*h+1)-h)-g,m=(p||Math.log(l/i))/F;function interpolate(n){var e=n*m;if(p){var a=d3_cosh(g),u=i/(2*f)*(a*function d3_tanh(n){return((n=Math.exp(2*n))-1)/(n+1)}(F*e+g)-function d3_sinh(n){return((n=Math.exp(n))-1/n)/2}(g));return[r+u*c,o+u*s,i*a/d3_cosh(F*e+g)]}return[r+n*c,o+n*s,i*Math.exp(F*e)]}return interpolate.duration=1e3*m,interpolate},a.behavior.zoom=function(){var n,e,r,o,i,u,l,c,d={x:0,y:0,k:1},f=[960,500],_=I,h="mousedown.zoom",g="mousemove.zoom",p="mouseup.zoom",m="touchstart.zoom",y=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");function zoom(n){n.on(h,mousedowned).on(U+".zoom",mousewheeled).on(g,mousewheelreset).on("dblclick.zoom",dblclicked).on(m,touchstarted)}function location(n){return[(n[0]-d.x)/d.k,(n[1]-d.y)/d.k]}function scaleTo(n){d.k=Math.max(_[0],Math.min(_[1],n))}function translateTo(n,e){e=function point(n){return[n[0]*d.k+d.x,n[1]*d.k+d.y]}(e),d.x+=n[0]-e[0],d.y+=n[1]-e[1]}function rescale(){u&&u.domain(i.range().map((function(n){return(n-d.x)/d.k})).map(i.invert)),c&&c.domain(l.range().map((function(n){return(n-d.y)/d.k})).map(l.invert))}function zoomstarted(n){n({type:"zoomstart"})}function zoomed(n){rescale(),n({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function zoomended(n){n({type:"zoomend"})}function mousedowned(){var n=this,e=y.of(n,arguments),r=a.event.target,o=0,i=a.select(s).on(g,moved).on(p,ended),u=location(a.mouse(n)),l=d3_event_dragSuppress();function moved(){o=1,translateTo(a.mouse(n),u),zoomed(e)}function ended(){i.on(g,s===n?mousewheelreset:null).on(p,null),l(o&&a.event.target===r),zoomended(e)}d3_selection_interrupt.call(n),zoomstarted(e)}function touchstarted(){var n,e=this,r=y.of(e,arguments),i={},u=0,l=a.event.changedTouches[0].identifier,c="touchmove.zoom-"+l,f="touchend.zoom-"+l,_=a.select(s).on(c,moved).on(f,ended),g=a.select(e).on(h,null).on(m,started),p=d3_event_dragSuppress();function relocate(){var r=a.touches(e);return n=d.k,r.forEach((function(n){n.identifier in i&&(i[n.identifier]=location(n))})),r}function started(){for(var n=a.event.changedTouches,e=0,l=n.length;e<l;++e)i[n[e].identifier]=null;var c=relocate(),s=Date.now();if(1===c.length){if(s-o<500){var f=c[0],_=i[f.identifier];scaleTo(2*d.k),translateTo(f,_),d3_eventPreventDefault(),zoomed(r)}o=s}else if(c.length>1){f=c[0];var h=c[1],g=f[0]-h[0],p=f[1]-h[1];u=g*g+p*p}}function moved(){for(var l,c,s,d,f=a.touches(e),_=0,h=f.length;_<h;++_,d=null)if(s=f[_],d=i[s.identifier]){if(c)break;l=s,c=d}if(d){var g=(g=s[0]-l[0])*g+(g=s[1]-l[1])*g,p=u&&Math.sqrt(g/u);l=[(l[0]+s[0])/2,(l[1]+s[1])/2],c=[(c[0]+d[0])/2,(c[1]+d[1])/2],scaleTo(p*n)}o=null,translateTo(l,c),zoomed(r)}function ended(){if(a.event.touches.length){for(var n=a.event.changedTouches,e=0,o=n.length;e<o;++e)delete i[n[e].identifier];for(var u in i)return void relocate()}_.on(c,null).on(f,null),g.on(h,mousedowned).on(m,touchstarted),p(),zoomended(r)}d3_selection_interrupt.call(e),started(),zoomstarted(r)}function mousewheeled(){var o=y.of(this,arguments);r?clearTimeout(r):(d3_selection_interrupt.call(this),zoomstarted(o)),r=setTimeout((function(){r=null,zoomended(o)}),50),d3_eventPreventDefault();var i=e||a.mouse(this);n||(n=location(i)),scaleTo(Math.pow(2,.002*H())*d.k),translateTo(i,n),zoomed(o)}function mousewheelreset(){n=null}function dblclicked(){var n=y.of(this,arguments),e=a.mouse(this),r=location(e),o=Math.log(d.k)/Math.LN2;zoomstarted(n),scaleTo(Math.pow(2,a.event.shiftKey?Math.ceil(o)-1:Math.floor(o)+1)),translateTo(e,r),zoomed(n),zoomended(n)}return zoom.event=function(n){n.each((function(){var n=y.of(this,arguments),e=d;Rn?a.select(this).transition().each("start.zoom",(function(){d=this.__chart__||{x:0,y:0,k:1},zoomstarted(n)})).tween("zoom:zoom",(function(){var r=f[0],o=f[1],i=r/2,u=o/2,l=a.interpolateZoom([(i-d.x)/d.k,(u-d.y)/d.k,r/d.k],[(i-e.x)/e.k,(u-e.y)/e.k,r/e.k]);return function(e){var o=l(e),a=r/o[2];this.__chart__=d={x:i-o[0]*a,y:u-o[1]*a,k:a},zoomed(n)}})).each("end.zoom",(function(){zoomended(n)})):(this.__chart__=d,zoomstarted(n),zoomed(n),zoomended(n))}))},zoom.translate=function(n){return arguments.length?(d={x:+n[0],y:+n[1],k:d.k},rescale(),zoom):[d.x,d.y]},zoom.scale=function(n){return arguments.length?(d={x:d.x,y:d.y,k:+n},rescale(),zoom):d.k},zoom.scaleExtent=function(n){return arguments.length?(_=null==n?I:[+n[0],+n[1]],zoom):_},zoom.center=function(n){return arguments.length?(e=n&&[+n[0],+n[1]],zoom):e},zoom.size=function(n){return arguments.length?(f=n&&[+n[0],+n[1]],zoom):f},zoom.x=function(n){return arguments.length?(u=n,i=n.copy(),d={x:0,y:0,k:1},zoom):u},zoom.y=function(n){return arguments.length?(c=n,l=n.copy(),d={x:0,y:0,k:1},zoom):c},a.rebind(zoom,y,"on")};var H,I=[0,1/0],U="onwheel"in l?(H=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(H=function(){return a.event.wheelDelta},"mousewheel"):(H=function(){return-a.event.detail},"MozMousePixelScroll");function d3_Color(){}function d3_hsl(n,e,r){return new d3_Hsl(n,e,r)}function d3_Hsl(n,e,r){this.h=n,this.s=e,this.l=r}d3_Color.prototype.toString=function(){return this.rgb()+""},a.hsl=function(n,e,r){return 1===arguments.length?n instanceof d3_Hsl?d3_hsl(n.h,n.s,n.l):d3_rgb_parse(""+n,d3_rgb_hsl,d3_hsl):d3_hsl(+n,+e,+r)};var Y=d3_Hsl.prototype=new d3_Color;function d3_hsl_rgb(n,e,r){var o,i;function vv(n){return Math.round(255*function v(n){return n>360?n-=360:n<0&&(n+=360),n<60?o+(i-o)*n/60:n<180?i:n<240?o+(i-o)*(240-n)/60:o}(n))}return n=isNaN(n)?0:(n%=360)<0?n+360:n,e=isNaN(e)||e<0?0:e>1?1:e,o=2*(r=r<0?0:r>1?1:r)-(i=r<=.5?r*(1+e):r+e-r*e),d3_rgb(vv(n+120),vv(n),vv(n-120))}function d3_hcl(n,e,r){return new d3_Hcl(n,e,r)}function d3_Hcl(n,e,r){this.h=n,this.c=e,this.l=r}Y.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),d3_hsl(this.h,this.s,this.l/n)},Y.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),d3_hsl(this.h,this.s,n*this.l)},Y.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},a.hcl=function(n,e,r){return 1===arguments.length?n instanceof d3_Hcl?d3_hcl(n.h,n.c,n.l):d3_lab_hcl(n instanceof d3_Lab?n.l:(n=d3_rgb_lab((n=a.rgb(n)).r,n.g,n.b)).l,n.a,n.b):d3_hcl(+n,+e,+r)};var O=d3_Hcl.prototype=new d3_Color;function d3_hcl_lab(n,e,r){return isNaN(n)&&(n=0),isNaN(e)&&(e=0),d3_lab(r,Math.cos(n*=j)*e,Math.sin(n)*e)}function d3_lab(n,e,r){return new d3_Lab(n,e,r)}function d3_Lab(n,e,r){this.l=n,this.a=e,this.b=r}O.brighter=function(n){return d3_hcl(this.h,this.c,Math.min(100,this.l+V*(arguments.length?n:1)))},O.darker=function(n){return d3_hcl(this.h,this.c,Math.max(0,this.l-V*(arguments.length?n:1)))},O.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},a.lab=function(n,e,r){return 1===arguments.length?n instanceof d3_Lab?d3_lab(n.l,n.a,n.b):n instanceof d3_Hcl?d3_hcl_lab(n.l,n.c,n.h):d3_rgb_lab((n=a.rgb(n)).r,n.g,n.b):d3_lab(+n,+e,+r)};var V=18,X=d3_Lab.prototype=new d3_Color;function d3_lab_rgb(n,e,r){var o=(n+16)/116,i=o+e/500,a=o-r/200;return d3_rgb(d3_xyz_rgb(3.2404542*(i=.95047*d3_lab_xyz(i))-1.5371385*(o=1*d3_lab_xyz(o))-.4985314*(a=1.08883*d3_lab_xyz(a))),d3_xyz_rgb(-.969266*i+1.8760108*o+.041556*a),d3_xyz_rgb(.0556434*i-.2040259*o+1.0572252*a))}function d3_lab_hcl(n,e,r){return n>0?d3_hcl(Math.atan2(r,e)*B,Math.sqrt(e*e+r*r),n):d3_hcl(NaN,NaN,n)}function d3_lab_xyz(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function d3_xyz_lab(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function d3_xyz_rgb(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function d3_rgbNumber(n){return d3_rgb(n>>16,n>>8&255,255&n)}function d3_rgbString(n){return d3_rgbNumber(n)+""}function d3_rgb(n,e,r){return new d3_Rgb(n,e,r)}function d3_Rgb(n,e,r){this.r=n,this.g=e,this.b=r}X.brighter=function(n){return d3_lab(Math.min(100,this.l+V*(arguments.length?n:1)),this.a,this.b)},X.darker=function(n){return d3_lab(Math.max(0,this.l-V*(arguments.length?n:1)),this.a,this.b)},X.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},a.rgb=function(n,e,r){return 1===arguments.length?n instanceof d3_Rgb?d3_rgb(n.r,n.g,n.b):d3_rgb_parse(""+n,d3_rgb,d3_hsl_rgb):d3_rgb(~~n,~~e,~~r)};var Z=d3_Rgb.prototype=new d3_Color;function d3_rgb_hex(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function d3_rgb_parse(n,e,r){var o,i,a,u=0,l=0,c=0;if(o=/([a-z]+)\((.*)\)/i.exec(n))switch(i=o[2].split(","),o[1]){case"hsl":return r(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(d3_rgb_parseNumber(i[0]),d3_rgb_parseNumber(i[1]),d3_rgb_parseNumber(i[2]))}return(a=W.get(n))?e(a.r,a.g,a.b):(null!=n&&"#"===n.charAt(0)&&(4===n.length?(u=n.charAt(1),u+=u,l=n.charAt(2),l+=l,c=n.charAt(3),c+=c):7===n.length&&(u=n.substring(1,3),l=n.substring(3,5),c=n.substring(5,7)),u=parseInt(u,16),l=parseInt(l,16),c=parseInt(c,16)),e(u,l,c))}function d3_rgb_hsl(n,e,r){var o,i,a=Math.min(n/=255,e/=255,r/=255),u=Math.max(n,e,r),l=u-a,c=(u+a)/2;return l?(i=c<.5?l/(u+a):l/(2-u-a),o=n==u?(e-r)/l+(e<r?6:0):e==u?(r-n)/l+2:(n-e)/l+4,o*=60):(o=NaN,i=c>0&&c<1?0:o),d3_hsl(o,i,c)}function d3_rgb_lab(n,e,r){var o=d3_xyz_lab((.4124564*(n=d3_rgb_xyz(n))+.3575761*(e=d3_rgb_xyz(e))+.1804375*(r=d3_rgb_xyz(r)))/.95047),i=d3_xyz_lab((.2126729*n+.7151522*e+.072175*r)/1);return d3_lab(116*i-16,500*(o-i),200*(i-d3_xyz_lab((.0193339*n+.119192*e+.9503041*r)/1.08883)))}function d3_rgb_xyz(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function d3_rgb_parseNumber(n){var e=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*e):e}Z.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var e=this.r,r=this.g,o=this.b,i=30;return e||r||o?(e&&e<i&&(e=i),r&&r<i&&(r=i),o&&o<i&&(o=i),d3_rgb(Math.min(255,~~(e/n)),Math.min(255,~~(r/n)),Math.min(255,~~(o/n)))):d3_rgb(i,i,i)},Z.darker=function(n){return d3_rgb(~~((n=Math.pow(.7,arguments.length?n:1))*this.r),~~(n*this.g),~~(n*this.b))},Z.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},Z.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var W=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function d3_functor(n){return"function"==typeof n?n:function(){return n}}function d3_identity(n){return n}function d3_xhrType(n){return function(e,r,o){return 2===arguments.length&&"function"==typeof r&&(o=r,r=null),d3_xhr(e,r,n,o)}}function d3_xhr(n,e,r,o){var i={},u=a.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,d=null;function respond(){var n,e=c.status;if(!e&&c.responseText||e>=200&&e<300||304===e){try{n=r.call(i,c)}catch(n){return void u.error.call(i,n)}u.load.call(i,n)}else u.error.call(i,c)}return!s.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=respond:c.onreadystatechange=function(){c.readyState>3&&respond()},c.onprogress=function(n){var e=a.event;a.event=n;try{u.progress.call(i,c)}finally{a.event=e}},i.header=function(n,e){return n=(n+"").toLowerCase(),arguments.length<2?l[n]:(null==e?delete l[n]:l[n]=e+"",i)},i.mimeType=function(n){return arguments.length?(e=null==n?null:n+"",i):e},i.responseType=function(n){return arguments.length?(d=n,i):d},i.response=function(n){return r=n,i},["get","post"].forEach((function(n){i[n]=function(){return i.send.apply(i,[n].concat(d3_array(arguments)))}})),i.send=function(r,o,a){if(2===arguments.length&&"function"==typeof o&&(a=o,o=null),c.open(r,n,!0),null==e||"accept"in l||(l.accept=e+",*/*"),c.setRequestHeader)for(var s in l)c.setRequestHeader(s,l[s]);return null!=e&&c.overrideMimeType&&c.overrideMimeType(e),null!=d&&(c.responseType=d),null!=a&&i.on("error",a).on("load",(function(n){a(null,n)})),u.beforesend.call(i,c),c.send(null==o?null:o),i},i.abort=function(){return c.abort(),i},a.rebind(i,u,"on"),null==o?i:i.get(function d3_xhr_fixCallback(n){return 1===n.length?function(e,r){n(null==e?r:null)}:n}(o))}W.forEach((function(n,e){W.set(n,d3_rgbNumber(e))})),a.functor=d3_functor,a.xhr=d3_xhrType(d3_identity),a.dsv=function(n,e){var r=new RegExp('["'+n+"\n]"),o=n.charCodeAt(0);function dsv(n,r,o){arguments.length<3&&(o=r,r=null);var i=d3_xhr(n,e,null==r?response:typedResponse(r),o);return i.row=function(n){return arguments.length?i.response(null==(r=n)?response:typedResponse(n)):r},i}function response(n){return dsv.parse(n.responseText)}function typedResponse(n){return function(e){return dsv.parse(e.responseText,n)}}function formatRow(e){return e.map(formatValue).join(n)}function formatValue(n){return r.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}return dsv.parse=function(n,e){var r;return dsv.parseRows(n,(function(n,o){if(r)return r(n,o-1);var i=new Function("d","return {"+n.map((function(n,e){return JSON.stringify(n)+": d["+e+"]"})).join(",")+"}");r=e?function(n,r){return e(i(n),r)}:i}))},dsv.parseRows=function(n,e){var r,i,a={},u={},l=[],c=n.length,s=0,d=0;function token(){if(s>=c)return u;if(i)return i=!1,a;var e=s;if(34===n.charCodeAt(e)){for(var r=e;r++<c;)if(34===n.charCodeAt(r)){if(34!==n.charCodeAt(r+1))break;++r}return s=r+2,13===(l=n.charCodeAt(r+1))?(i=!0,10===n.charCodeAt(r+2)&&++s):10===l&&(i=!0),n.substring(e+1,r).replace(/""/g,'"')}for(;s<c;){var l,d=1;if(10===(l=n.charCodeAt(s++)))i=!0;else if(13===l)i=!0,10===n.charCodeAt(s)&&(++s,++d);else if(l!==o)continue;return n.substring(e,s-d)}return n.substring(e)}for(;(r=token())!==u;){for(var f=[];r!==a&&r!==u;)f.push(r),r=token();e&&!(f=e(f,d++))||l.push(f)}return l},dsv.format=function(e){if(Array.isArray(e[0]))return dsv.formatRows(e);var r=new d3_Set,o=[];return e.forEach((function(n){for(var e in n)r.has(e)||o.push(r.add(e))})),[o.map(formatValue).join(n)].concat(e.map((function(e){return o.map((function(n){return formatValue(e[n])})).join(n)}))).join("\n")},dsv.formatRows=function(n){return n.map(formatRow).join("\n")},dsv},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var $,G,J,K,Q,tt=s[d3_vendorSymbol(s,"requestAnimationFrame")]||function(n){setTimeout(n,17)};function d3_timer_step(){var n=d3_timer_mark(),e=d3_timer_sweep()-n;e>24?(isFinite(e)&&(clearTimeout(K),K=setTimeout(d3_timer_step,e)),J=0):(J=1,tt(d3_timer_step))}function d3_timer_mark(){var n=Date.now();for(Q=$;Q;)n>=Q.t&&(Q.f=Q.c(n-Q.t)),Q=Q.n;return n}function d3_timer_sweep(){for(var n,e=$,r=1/0;e;)e.f?e=n?n.n=e.n:$=e.n:(e.t<r&&(r=e.t),e=(n=e).n);return G=n,r}function d3_format_precision(n,e){return e-(n?Math.ceil(Math.log(n)/Math.LN10):1)}a.timer=function(n,e,r){var o=arguments.length;o<2&&(e=0),o<3&&(r=Date.now());var i=r+e,a={c:n,t:i,f:!1,n:null};G?G.n=a:$=a,G=a,J||(K=clearTimeout(K),J=1,tt(d3_timer_step))},a.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},a.round=function(n,e){return e?Math.round(n*(e=Math.pow(10,e)))/e:Math.round(n)};var nt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function d3_formatPrefix(n,e){var r=Math.pow(10,3*m(8-e));return{scale:e>8?function(n){return n/r}:function(n){return n*r},symbol:n}}));function d3_locale_numberFormat(n){var e=n.decimal,r=n.thousands,o=n.grouping,i=n.currency,u=o?function(n){for(var e=n.length,i=[],a=0,u=o[0];e>0&&u>0;)i.push(n.substring(e-=u,e+u)),u=o[a=(a+1)%o.length];return i.reverse().join(r)}:d3_identity;return function(n){var r=et.exec(n),o=r[1]||" ",l=r[2]||">",c=r[3]||"",s=r[4]||"",d=r[5],f=+r[6],_=r[7],h=r[8],g=r[9],p=1,m="",y="",x=!1;switch(h&&(h=+h.substring(1)),(d||"0"===o&&"="===l)&&(d=o="0",l="=",_&&(f-=Math.floor((f-1)/4))),g){case"n":_=!0,g="g";break;case"%":p=100,y="%",g="f";break;case"p":p=100,y="%",g="r";break;case"b":case"o":case"x":case"X":"#"===s&&(m="0"+g.toLowerCase());case"c":case"d":x=!0,h=0;break;case"s":p=-1,g="r"}"$"===s&&(m=i[0],y=i[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):"e"!=g&&"f"!=g||(h=Math.max(0,Math.min(20,h)))),g=rt.get(g)||d3_format_typeDefault;var b=d&&_;return function(n){var r=y;if(x&&n%1)return"";var i=n<0||0===n&&1/n<0?(n=-n,"-"):c;if(p<0){var s=a.formatPrefix(n,h);n=s.scale(n),r=s.symbol+y}else n*=p;var M=(n=g(n,h)).lastIndexOf("."),k=M<0?n:n.substring(0,M),w=M<0?"":e+n.substring(M+1);!d&&_&&(k=u(k));var S=m.length+k.length+w.length+(b?0:i.length),E=S<f?new Array(S=f-S+1).join(o):"";return b&&(k=u(E+k)),i+=m,n=k+w,("<"===l?i+n+E:">"===l?E+i+n:"^"===l?E.substring(0,S>>=1)+i+n+E.substring(S):i+(b?n:E+n))+r}}}a.formatPrefix=function(n,e){var r=0;return n&&(n<0&&(n*=-1),e&&(n=a.round(n,d3_format_precision(n,e))),r=1+Math.floor(1e-12+Math.log(n)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r<=0?r+1:r-1)/3)))),nt[8+r/3]};var et=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,rt=a.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,e){return n.toPrecision(e)},e:function(n,e){return n.toExponential(e)},f:function(n,e){return n.toFixed(e)},r:function(n,e){return(n=a.round(n,d3_format_precision(n,e))).toFixed(Math.max(0,Math.min(20,d3_format_precision(n*(1+1e-15),e))))}});function d3_format_typeDefault(n){return n+""}var ot=a.time={},it=Date;function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){at.setUTCDate.apply(this._,arguments)},setDay:function(){at.setUTCDay.apply(this._,arguments)},setFullYear:function(){at.setUTCFullYear.apply(this._,arguments)},setHours:function(){at.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){at.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){at.setUTCMinutes.apply(this._,arguments)},setMonth:function(){at.setUTCMonth.apply(this._,arguments)},setSeconds:function(){at.setUTCSeconds.apply(this._,arguments)},setTime:function(){at.setTime.apply(this._,arguments)}};var at=Date.prototype;function d3_time_interval(n,e,r){function round(e){var r=n(e),o=offset(r,1);return e-r<o-e?r:o}function ceil(r){return e(r=n(new it(r-1)),1),r}function offset(n,r){return e(n=new it(+n),r),n}function range(n,o,i){var a=ceil(n),u=[];if(i>1)for(;a<o;)r(a)%i||u.push(new Date(+a)),e(a,1);else for(;a<o;)u.push(new Date(+a)),e(a,1);return u}n.floor=n,n.round=round,n.ceil=ceil,n.offset=offset,n.range=range;var o=n.utc=d3_time_interval_utc(n);return o.floor=o,o.round=d3_time_interval_utc(round),o.ceil=d3_time_interval_utc(ceil),o.offset=d3_time_interval_utc(offset),o.range=function range_utc(n,e,r){try{it=d3_date_utc;var o=new d3_date_utc;return o._=n,range(o,e,r)}finally{it=Date}},n}function d3_time_interval_utc(n){return function(e,r){try{it=d3_date_utc;var o=new d3_date_utc;return o._=e,n(o,r)._}finally{it=Date}}}function d3_locale_timeFormat(n){var e=n.dateTime,r=n.date,o=n.time,i=n.periods,u=n.days,l=n.shortDays,c=n.months,s=n.shortMonths;function d3_time_format(n){var e=n.length;function format(r){for(var o,i,a,u=[],l=-1,c=0;++l<e;)37===n.charCodeAt(l)&&(u.push(n.substring(c,l)),null!=(i=ut[o=n.charAt(++l)])&&(o=n.charAt(++l)),(a=b[o])&&(o=a(r,null==i?"e"===o?" ":"0":i)),u.push(o),c=l+1);return u.push(n.substring(c,l)),u.join("")}return format.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d3_time_parse(r,n,e,0)!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&it!==d3_date_utc,i=new(o?d3_date_utc:it);return"j"in r?i.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(i.setFullYear(r.y,0,1),i.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(i.getDay()+5)%7:r.w+7*r.U-(i.getDay()+6)%7)):i.setFullYear(r.y,r.m,r.d),i.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),o?i._:i},format.toString=function(){return n},format}function d3_time_parse(n,e,r,o){for(var i,a,u,l=0,c=e.length,s=r.length;l<c;){if(o>=s)return-1;if(37===(i=e.charCodeAt(l++))){if(u=e.charAt(l++),!(a=M[u in ut?e.charAt(l++):u])||(o=a(n,r,o))<0)return-1}else if(i!=r.charCodeAt(o++))return-1}return o}d3_time_format.utc=function(n){var e=d3_time_format(n);function format(n){try{var r=new(it=d3_date_utc);return r._=n,e(r)}finally{it=Date}}return format.parse=function(n){try{it=d3_date_utc;var r=e.parse(n);return r&&r._}finally{it=Date}},format.toString=e.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var d=a.map(),f=d3_time_formatRe(u),_=d3_time_formatLookup(u),h=d3_time_formatRe(l),g=d3_time_formatLookup(l),p=d3_time_formatRe(c),m=d3_time_formatLookup(c),y=d3_time_formatRe(s),x=d3_time_formatLookup(s);i.forEach((function(n,e){d.set(n.toLowerCase(),e)}));var b={a:function(n){return l[n.getDay()]},A:function(n){return u[n.getDay()]},b:function(n){return s[n.getMonth()]},B:function(n){return c[n.getMonth()]},c:d3_time_format(e),d:function(n,e){return d3_time_formatPad(n.getDate(),e,2)},e:function(n,e){return d3_time_formatPad(n.getDate(),e,2)},H:function(n,e){return d3_time_formatPad(n.getHours(),e,2)},I:function(n,e){return d3_time_formatPad(n.getHours()%12||12,e,2)},j:function(n,e){return d3_time_formatPad(1+ot.dayOfYear(n),e,3)},L:function(n,e){return d3_time_formatPad(n.getMilliseconds(),e,3)},m:function(n,e){return d3_time_formatPad(n.getMonth()+1,e,2)},M:function(n,e){return d3_time_formatPad(n.getMinutes(),e,2)},p:function(n){return i[+(n.getHours()>=12)]},S:function(n,e){return d3_time_formatPad(n.getSeconds(),e,2)},U:function(n,e){return d3_time_formatPad(ot.sundayOfYear(n),e,2)},w:function(n){return n.getDay()},W:function(n,e){return d3_time_formatPad(ot.mondayOfYear(n),e,2)},x:d3_time_format(r),X:d3_time_format(o),y:function(n,e){return d3_time_formatPad(n.getFullYear()%100,e,2)},Y:function(n,e){return d3_time_formatPad(n.getFullYear()%1e4,e,4)},Z:d3_time_zone,"%":function(){return"%"}},M={a:function d3_time_parseWeekdayAbbrev(n,e,r){h.lastIndex=0;var o=h.exec(e.substring(r));return o?(n.w=g.get(o[0].toLowerCase()),r+o[0].length):-1},A:function d3_time_parseWeekday(n,e,r){f.lastIndex=0;var o=f.exec(e.substring(r));return o?(n.w=_.get(o[0].toLowerCase()),r+o[0].length):-1},b:function d3_time_parseMonthAbbrev(n,e,r){y.lastIndex=0;var o=y.exec(e.substring(r));return o?(n.m=x.get(o[0].toLowerCase()),r+o[0].length):-1},B:function d3_time_parseMonth(n,e,r){p.lastIndex=0;var o=p.exec(e.substring(r));return o?(n.m=m.get(o[0].toLowerCase()),r+o[0].length):-1},c:function d3_time_parseLocaleFull(n,e,r){return d3_time_parse(n,b.c.toString(),e,r)},d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:function d3_time_parseAmPm(n,e,r){var o=d.get(e.substring(r,r+=2).toLowerCase());return null==o?-1:(n.p=o,r)},S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:function d3_time_parseLocaleDate(n,e,r){return d3_time_parse(n,b.x.toString(),e,r)},X:function d3_time_parseLocaleTime(n,e,r){return d3_time_parse(n,b.X.toString(),e,r)},y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}ot.year=d3_time_interval((function(n){return(n=ot.day(n)).setMonth(0,1),n}),(function(n,e){n.setFullYear(n.getFullYear()+e)}),(function(n){return n.getFullYear()})),ot.years=ot.year.range,ot.years.utc=ot.year.utc.range,ot.day=d3_time_interval((function(n){var e=new it(2e3,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e}),(function(n,e){n.setDate(n.getDate()+e)}),(function(n){return n.getDate()-1})),ot.days=ot.day.range,ot.days.utc=ot.day.utc.range,ot.dayOfYear=function(n){var e=ot.year(n);return Math.floor((n-e-6e4*(n.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(n,e){e=7-e;var r=ot[n]=d3_time_interval((function(n){return(n=ot.day(n)).setDate(n.getDate()-(n.getDay()+e)%7),n}),(function(n,e){n.setDate(n.getDate()+7*Math.floor(e))}),(function(n){var r=ot.year(n).getDay();return Math.floor((ot.dayOfYear(n)+(r+e)%7)/7)-(r!==e)}));ot[n+"s"]=r.range,ot[n+"s"].utc=r.utc.range,ot[n+"OfYear"]=function(n){var r=ot.year(n).getDay();return Math.floor((ot.dayOfYear(n)+(r+e)%7)/7)}})),ot.week=ot.sunday,ot.weeks=ot.sunday.range,ot.weeks.utc=ot.sunday.utc.range,ot.weekOfYear=ot.sundayOfYear;var ut={"-":"",_:" ",0:"0"},lt=/^\s*\d+/,ct=/^%/;function d3_time_formatPad(n,e,r){var o=n<0?"-":"",i=(o?-n:n)+"",a=i.length;return o+(a<r?new Array(r-a+1).join(e)+i:i)}function d3_time_formatRe(n){return new RegExp("^(?:"+n.map(a.requote).join("|")+")","i")}function d3_time_formatLookup(n){for(var e=new d3_Map,r=-1,o=n.length;++r<o;)e.set(n[r].toLowerCase(),r);return e}function d3_time_parseWeekdayNumber(n,e,r){lt.lastIndex=0;var o=lt.exec(e.substring(r,r+1));return o?(n.w=+o[0],r+o[0].length):-1}function d3_time_parseWeekNumberSunday(n,e,r){lt.lastIndex=0;var o=lt.exec(e.substring(r));return o?(n.U=+o[0],r+o[0].length):-1}function d3_time_parseWeekNumberMonday(n,e,r){lt.lastIndex=0;var o=lt.exec(e.substring(r));return o?(n.W=+o[0],r+o[0].length):-1}function d3_time_parseFullYear(n,e,r){lt.lastIndex=0;var o=lt.exec(e.substring(r,r+4));return o?(n.y=+o[0],r+o[0].length):-1}function d3_time_parseYear(n,e,r){lt.lastIndex=0;var o=lt.exec(e.substring(r,r+2));return o?(n.y=function d3_time_expandYear(n){return n+(n>68?1900:2e3)}(+o[0]),r+o[0].length):-1}function d3_time_parseZone(n,e,r){return/^[+-]\d{4}$/.test(e=e.substring(r,r+5))?(n.Z=+e,r+5):-1}function d3_time_parseMonthNumber(n,e,r){lt.lastIndex=0;var o=lt.exec(e.substring(r,r+2));return o?(n.m=o[0]-1,r+o[0].length):-1}function d3_time_parseDay(n,e,r){lt.lastIndex=0;var o=lt.exec(e.substring(r,r+2));return o?(n.d=+o[0],r+o[0].length):-1}function d3_time_parseDayOfYear(n,e,r){lt.lastIndex=0;var o=lt.exec(e.substring(r,r+3));return o?(n.j=+o[0],r+o[0].length):-1}function d3_time_parseHour24(n,e,r){lt.lastIndex=0;var o=lt.exec(e.substring(r,r+2));return o?(n.H=+o[0],r+o[0].length):-1}function d3_time_parseMinutes(n,e,r){lt.lastIndex=0;var o=lt.exec(e.substring(r,r+2));return o?(n.M=+o[0],r+o[0].length):-1}function d3_time_parseSeconds(n,e,r){lt.lastIndex=0;var o=lt.exec(e.substring(r,r+2));return o?(n.S=+o[0],r+o[0].length):-1}function d3_time_parseMilliseconds(n,e,r){lt.lastIndex=0;var o=lt.exec(e.substring(r,r+3));return o?(n.L=+o[0],r+o[0].length):-1}function d3_time_zone(n){var e=n.getTimezoneOffset(),r=e>0?"-":"+",o=~~(m(e)/60),i=m(e)%60;return r+d3_time_formatPad(o,"0",2)+d3_time_formatPad(i,"0",2)}function d3_time_parseLiteralPercent(n,e,r){ct.lastIndex=0;var o=ct.exec(e.substring(r,r+1));return o?r+o[0].length:-1}function d3_time_formatMulti(n){for(var e=n.length,r=-1;++r<e;)n[r][0]=this(n[r][0]);return function(e){for(var r=0,o=n[r];!o[1](e);)o=n[++r];return o[0](e)}}a.locale=function(n){return{numberFormat:d3_locale_numberFormat(n),timeFormat:d3_locale_timeFormat(n)}};var st=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d3_adder(){}a.format=st.numberFormat,a.geo={},d3_adder.prototype={s:0,t:0,add:function(n){d3_adderSum(n,this.t,dt),d3_adderSum(dt.s,this.s,this),this.s?this.t+=dt.t:this.s=dt.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var dt=new d3_adder;function d3_adderSum(n,e,r){var o=r.s=n+e,i=o-n,a=o-i;r.t=n-a+(e-i)}function d3_geo_streamGeometry(n,e){n&&_t.hasOwnProperty(n.type)&&_t[n.type](n,e)}a.geo.stream=function(n,e){n&&ft.hasOwnProperty(n.type)?ft[n.type](n,e):d3_geo_streamGeometry(n,e)};var ft={Feature:function(n,e){d3_geo_streamGeometry(n.geometry,e)},FeatureCollection:function(n,e){for(var r=n.features,o=-1,i=r.length;++o<i;)d3_geo_streamGeometry(r[o].geometry,e)}},_t={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var r=n.coordinates,o=-1,i=r.length;++o<i;)n=r[o],e.point(n[0],n[1],n[2])},LineString:function(n,e){d3_geo_streamLine(n.coordinates,e,0)},MultiLineString:function(n,e){for(var r=n.coordinates,o=-1,i=r.length;++o<i;)d3_geo_streamLine(r[o],e,0)},Polygon:function(n,e){d3_geo_streamPolygon(n.coordinates,e)},MultiPolygon:function(n,e){for(var r=n.coordinates,o=-1,i=r.length;++o<i;)d3_geo_streamPolygon(r[o],e)},GeometryCollection:function(n,e){for(var r=n.geometries,o=-1,i=r.length;++o<i;)d3_geo_streamGeometry(r[o],e)}};function d3_geo_streamLine(n,e,r){var o,i=-1,a=n.length-r;for(e.lineStart();++i<a;)o=n[i],e.point(o[0],o[1],o[2]);e.lineEnd()}function d3_geo_streamPolygon(n,e){var r=-1,o=n.length;for(e.polygonStart();++r<o;)d3_geo_streamLine(n[r],e,1);e.polygonEnd()}a.geo.area=function(n){return ht=0,a.geo.stream(n,Nt),ht};var ht,gt,pt,vt,mt,yt,xt,bt,Mt,kt,wt,St,Et=new d3_adder,Nt={sphere:function(){ht+=4*z},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){Et.reset(),Nt.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var n=2*Et;ht+=n<0?4*z+n:n,Nt.lineStart=Nt.lineEnd=Nt.point=d3_noop}};function d3_geo_areaRingStart(){var n,e,r,o,i;function nextPoint(n,e){e=e*j/2+z/4;var a=(n*=j)-r,u=a>=0?1:-1,l=u*a,c=Math.cos(e),s=Math.sin(e),d=i*s,f=o*c+d*Math.cos(l),_=d*u*Math.sin(l);Et.add(Math.atan2(_,f)),r=n,o=c,i=s}Nt.point=function(a,u){Nt.point=nextPoint,r=(n=a)*j,o=Math.cos(u=(e=u)*j/2+z/4),i=Math.sin(u)},Nt.lineEnd=function(){nextPoint(n,e)}}function d3_geo_cartesian(n){var e=n[0],r=n[1],o=Math.cos(r);return[o*Math.cos(e),o*Math.sin(e),Math.sin(r)]}function d3_geo_cartesianDot(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function d3_geo_cartesianCross(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function d3_geo_cartesianAdd(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function d3_geo_cartesianScale(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function d3_geo_cartesianNormalize(n){var e=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function d3_geo_spherical(n){return[Math.atan2(n[1],n[0]),d3_asin(n[2])]}function d3_geo_sphericalEqual(n,e){return m(n[0]-e[0])<D&&m(n[1]-e[1])<D}a.geo.bounds=function(){var n,e,r,o,i,u,l,c,s,d,f,_={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){_.point=ringPoint,_.lineStart=ringStart,_.lineEnd=ringEnd,s=0,Nt.polygonStart()},polygonEnd:function(){Nt.polygonEnd(),_.point=point,_.lineStart=lineStart,_.lineEnd=lineEnd,Et<0?(n=-(r=180),e=-(o=90)):s>D?o=90:s<-D&&(e=-90),f[0]=n,f[1]=r}};function point(i,a){d.push(f=[n=i,r=i]),a<e&&(e=a),a>o&&(o=a)}function linePoint(a,u){var l=d3_geo_cartesian([a*j,u*j]);if(c){var s=d3_geo_cartesianCross(c,l),d=d3_geo_cartesianCross([s[1],-s[0],0],s);d3_geo_cartesianNormalize(d),d=d3_geo_spherical(d);var f=a-i,_=f>0?1:-1,h=d[0]*B*_,g=m(f)>180;if(g^(_*i<h&&h<_*a))(p=d[1]*B)>o&&(o=p);else if(g^(_*i<(h=(h+360)%360-180)&&h<_*a)){var p;(p=-d[1]*B)<e&&(e=p)}else u<e&&(e=u),u>o&&(o=u);g?a<i?angle(n,a)>angle(n,r)&&(r=a):angle(a,r)>angle(n,r)&&(n=a):r>=n?(a<n&&(n=a),a>r&&(r=a)):a>i?angle(n,a)>angle(n,r)&&(r=a):angle(a,r)>angle(n,r)&&(n=a)}else point(a,u);c=l,i=a}function lineStart(){_.point=linePoint}function lineEnd(){f[0]=n,f[1]=r,_.point=point,c=null}function ringPoint(n,e){if(c){var r=n-i;s+=m(r)>180?r+(r>0?360:-360):r}else u=n,l=e;Nt.point(n,e),linePoint(n,e)}function ringStart(){Nt.lineStart()}function ringEnd(){ringPoint(u,l),Nt.lineEnd(),m(s)>D&&(n=-(r=180)),f[0]=n,f[1]=r,c=null}function angle(n,e){return(e-=n)<0?e+360:e}function compareRanges(n,e){return n[0]-e[0]}function withinRange(n,e){return e[0]<=e[1]?e[0]<=n&&n<=e[1]:n<e[0]||e[1]<n}return function(i){if(o=r=-(n=e=1/0),d=[],a.geo.stream(i,_),s=d.length){d.sort(compareRanges);for(var u=1,l=[p=d[0]];u<s;++u)withinRange((h=d[u])[0],p)||withinRange(h[1],p)?(angle(p[0],h[1])>angle(p[0],p[1])&&(p[1]=h[1]),angle(h[0],p[1])>angle(p[0],p[1])&&(p[0]=h[0])):l.push(p=h);for(var c,s,h,g=-1/0,p=(u=0,l[s=l.length-1]);u<=s;p=h,++u)h=l[u],(c=angle(p[1],h[0]))>g&&(g=c,n=h[0],r=p[1])}return d=f=null,n===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[n,e],[r,o]]}}(),a.geo.centroid=function(n){gt=pt=vt=mt=yt=xt=bt=Mt=kt=wt=St=0,a.geo.stream(n,Ct);var e=kt,r=wt,o=St,i=e*e+r*r+o*o;return i<1e-12&&(e=xt,r=bt,o=Mt,pt<D&&(e=vt,r=mt,o=yt),(i=e*e+r*r+o*o)<1e-12)?[NaN,NaN]:[Math.atan2(r,e)*B,d3_asin(o/Math.sqrt(i))*B]};var Ct={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){Ct.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){Ct.lineStart=d3_geo_centroidLineStart}};function d3_geo_centroidPoint(n,e){n*=j;var r=Math.cos(e*=j);d3_geo_centroidPointXYZ(r*Math.cos(n),r*Math.sin(n),Math.sin(e))}function d3_geo_centroidPointXYZ(n,e,r){++gt,vt+=(n-vt)/gt,mt+=(e-mt)/gt,yt+=(r-yt)/gt}function d3_geo_centroidLineStart(){var n,e,r;function nextPoint(o,i){o*=j;var a=Math.cos(i*=j),u=a*Math.cos(o),l=a*Math.sin(o),c=Math.sin(i),s=Math.atan2(Math.sqrt((s=e*c-r*l)*s+(s=r*u-n*c)*s+(s=n*l-e*u)*s),n*u+e*l+r*c);pt+=s,xt+=s*(n+(n=u)),bt+=s*(e+(e=l)),Mt+=s*(r+(r=c)),d3_geo_centroidPointXYZ(n,e,r)}Ct.point=function(o,i){o*=j;var a=Math.cos(i*=j);n=a*Math.cos(o),e=a*Math.sin(o),r=Math.sin(i),Ct.point=nextPoint,d3_geo_centroidPointXYZ(n,e,r)}}function d3_geo_centroidLineEnd(){Ct.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){var n,e,r,o,i;function nextPoint(n,e){n*=j;var a=Math.cos(e*=j),u=a*Math.cos(n),l=a*Math.sin(n),c=Math.sin(e),s=o*c-i*l,d=i*u-r*c,f=r*l-o*u,_=Math.sqrt(s*s+d*d+f*f),h=r*u+o*l+i*c,g=_&&-d3_acos(h)/_,p=Math.atan2(_,h);kt+=g*s,wt+=g*d,St+=g*f,pt+=p,xt+=p*(r+(r=u)),bt+=p*(o+(o=l)),Mt+=p*(i+(i=c)),d3_geo_centroidPointXYZ(r,o,i)}Ct.point=function(a,u){n=a,e=u,Ct.point=nextPoint,a*=j;var l=Math.cos(u*=j);r=l*Math.cos(a),o=l*Math.sin(a),i=Math.sin(u),d3_geo_centroidPointXYZ(r,o,i)},Ct.lineEnd=function(){nextPoint(n,e),Ct.lineEnd=d3_geo_centroidLineEnd,Ct.point=d3_geo_centroidPoint}}function d3_true(){return!0}function d3_geo_clipPolygon(n,e,r,o,i){var a=[],u=[];if(n.forEach((function(n){if(!((e=n.length-1)<=0)){var e,r=n[0],o=n[e];if(d3_geo_sphericalEqual(r,o)){i.lineStart();for(var l=0;l<e;++l)i.point((r=n[l])[0],r[1]);i.lineEnd()}else{var c=new d3_geo_clipPolygonIntersection(r,n,null,!0),s=new d3_geo_clipPolygonIntersection(r,null,c,!1);c.o=s,a.push(c),u.push(s),c=new d3_geo_clipPolygonIntersection(o,n,null,!1),s=new d3_geo_clipPolygonIntersection(o,null,c,!0),c.o=s,a.push(c),u.push(s)}}})),u.sort(e),d3_geo_clipPolygonLinkCircular(a),d3_geo_clipPolygonLinkCircular(u),a.length){for(var l=0,c=r,s=u.length;l<s;++l)u[l].e=c=!c;for(var d,f,_=a[0];;){for(var h=_,g=!0;h.v;)if((h=h.n)===_)return;d=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(l=0,s=d.length;l<s;++l)i.point((f=d[l])[0],f[1]);else o(h.x,h.n.x,1,i);h=h.n}else{if(g)for(l=(d=h.p.z).length-1;l>=0;--l)i.point((f=d[l])[0],f[1]);else o(h.x,h.p.x,-1,i);h=h.p}d=(h=h.o).z,g=!g}while(!h.v);i.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(n){if(e=n.length){for(var e,r,o=0,i=n[0];++o<e;)i.n=r=n[o],r.p=i,i=r;i.n=r=n[0],r.p=i}}function d3_geo_clipPolygonIntersection(n,e,r,o){this.x=n,this.z=e,this.o=r,this.e=o,this.v=!1,this.n=this.p=null}function d3_geo_clip(n,e,r,o){return function(i,u){var l,c=e(u),s=i.invert(o[0],o[1]),d={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){d.point=pointRing,d.lineStart=ringStart,d.lineEnd=ringEnd,l=[],f=[],u.polygonStart()},polygonEnd:function(){d.point=point,d.lineStart=lineStart,d.lineEnd=lineEnd,l=a.merge(l);var n=function d3_geo_pointInPolygon(n,e){var r=n[0],o=n[1],i=[Math.sin(r),-Math.cos(r),0],a=0,u=0;Et.reset();for(var l=0,c=e.length;l<c;++l){var s=e[l],d=s.length;if(d)for(var f=s[0],_=f[0],h=f[1]/2+z/4,g=Math.sin(h),p=Math.cos(h),m=1;;){m===d&&(m=0);var y=(n=s[m])[0],x=n[1]/2+z/4,b=Math.sin(x),M=Math.cos(x),k=y-_,w=k>=0?1:-1,S=w*k,E=S>z,N=g*b;if(Et.add(Math.atan2(N*w*Math.sin(S),p*M+N*Math.cos(S))),a+=E?k+w*T:k,E^_>=r^y>=r){var C=d3_geo_cartesianCross(d3_geo_cartesian(f),d3_geo_cartesian(n));d3_geo_cartesianNormalize(C);var R=d3_geo_cartesianCross(i,C);d3_geo_cartesianNormalize(R);var A=(E^k>=0?-1:1)*d3_asin(R[2]);(o>A||o===A&&(C[0]||C[1]))&&(u+=E^k>=0?1:-1)}if(!m++)break;_=y,g=b,p=M,f=n}}return(a<-D||a<D&&Et<0)^1&u}(s,f);l.length?d3_geo_clipPolygon(l,d3_geo_clipSort,n,r,u):n&&(u.lineStart(),r(null,null,1,u),u.lineEnd()),u.polygonEnd(),l=f=null},sphere:function(){u.polygonStart(),u.lineStart(),r(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function point(e,r){var o=i(e,r);n(e=o[0],r=o[1])&&u.point(e,r)}function pointLine(n,e){var r=i(n,e);c.point(r[0],r[1])}function lineStart(){d.point=pointLine,c.lineStart()}function lineEnd(){d.point=point,c.lineEnd()}var f,_,h=d3_geo_clipBufferListener(),g=e(h);function pointRing(n,e){_.push([n,e]);var r=i(n,e);g.point(r[0],r[1])}function ringStart(){g.lineStart(),_=[]}function ringEnd(){pointRing(_[0][0],_[0][1]),g.lineEnd();var n,e=g.clean(),r=h.buffer(),o=r.length;if(_.pop(),f.push(_),_=null,o)if(1&e){o=(n=r[0]).length-1;var i,a=-1;for(u.lineStart();++a<o;)u.point((i=n[a])[0],i[1]);u.lineEnd()}else o>1&&2&e&&r.push(r.pop().concat(r.shift())),l.push(r.filter(d3_geo_clipSegmentLength1))}return d}}function d3_geo_clipSegmentLength1(n){return n.length>1}function d3_geo_clipBufferListener(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(e,r){n.push([e,r])},lineEnd:d3_noop,buffer:function(){var r=e;return e=[],n=null,r},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function d3_geo_clipSort(n,e){return((n=n.x)[0]<0?n[1]-q-D:q-n[1])-((e=e.x)[0]<0?e[1]-q-D:q-e[1])}var Rt=d3_geo_clip(d3_true,(function d3_geo_clipAntimeridianLine(n){var e,r=NaN,o=NaN,i=NaN;return{lineStart:function(){n.lineStart(),e=1},point:function(a,u){var l=a>0?z:-z,c=m(a-r);m(c-z)<D?(n.point(r,o=(o+u)/2>0?q:-q),n.point(i,o),n.lineEnd(),n.lineStart(),n.point(l,o),n.point(a,o),e=0):i!==l&&c>=z&&(m(r-i)<D&&(r-=i*D),m(a-l)<D&&(a-=l*D),o=function d3_geo_clipAntimeridianIntersect(n,e,r,o){var i,a,u=Math.sin(n-r);return m(u)>D?Math.atan((Math.sin(e)*(a=Math.cos(o))*Math.sin(r)-Math.sin(o)*(i=Math.cos(e))*Math.sin(n))/(i*a*u)):(e+o)/2}(r,o,a,u),n.point(i,o),n.lineEnd(),n.lineStart(),n.point(l,o),e=0),n.point(r=a,o=u),i=l},lineEnd:function(){n.lineEnd(),r=o=NaN},clean:function(){return 2-e}}}),(function d3_geo_clipAntimeridianInterpolate(n,e,r,o){var i;if(null==n)i=r*q,o.point(-z,i),o.point(0,i),o.point(z,i),o.point(z,0),o.point(z,-i),o.point(0,-i),o.point(-z,-i),o.point(-z,0),o.point(-z,i);else if(m(n[0]-e[0])>D){var a=n[0]<e[0]?z:-z;i=r*a/2,o.point(-a,i),o.point(0,i),o.point(a,i)}else o.point(e[0],e[1])}),[-z,-z/2]);function d3_geo_clipCircle(n){var e=Math.cos(n),r=e>0,o=m(e)>D;return d3_geo_clip(visible,(function clipLine(n){var e,i,a,u,l;return{lineStart:function(){u=a=!1,l=1},point:function(c,s){var d,f=[c,s],_=visible(c,s),h=r?_?0:code(c,s):_?code(c+(c<0?z:-z),s):0;if(!e&&(u=a=_)&&n.lineStart(),_!==a&&(d=intersect(e,f),(d3_geo_sphericalEqual(e,d)||d3_geo_sphericalEqual(f,d))&&(f[0]+=D,f[1]+=D,_=visible(f[0],f[1]))),_!==a)l=0,_?(n.lineStart(),d=intersect(f,e),n.point(d[0],d[1])):(d=intersect(e,f),n.point(d[0],d[1]),n.lineEnd()),e=d;else if(o&&e&&r^_){var g;h&i||!(g=intersect(f,e,!0))||(l=0,r?(n.lineStart(),n.point(g[0][0],g[0][1]),n.point(g[1][0],g[1][1]),n.lineEnd()):(n.point(g[1][0],g[1][1]),n.lineEnd(),n.lineStart(),n.point(g[0][0],g[0][1])))}!_||e&&d3_geo_sphericalEqual(e,f)||n.point(f[0],f[1]),e=f,a=_,i=h},lineEnd:function(){a&&n.lineEnd(),e=null},clean:function(){return l|(u&&a)<<1}}}),d3_geo_circleInterpolate(n,6*j),r?[0,-n]:[-z,n-z]);function visible(n,r){return Math.cos(n)*Math.cos(r)>e}function intersect(n,r,o){var i=[1,0,0],a=d3_geo_cartesianCross(d3_geo_cartesian(n),d3_geo_cartesian(r)),u=d3_geo_cartesianDot(a,a),l=a[0],c=u-l*l;if(!c)return!o&&n;var s=e*u/c,d=-e*l/c,f=d3_geo_cartesianCross(i,a),_=d3_geo_cartesianScale(i,s);d3_geo_cartesianAdd(_,d3_geo_cartesianScale(a,d));var h=f,g=d3_geo_cartesianDot(_,h),p=d3_geo_cartesianDot(h,h),y=g*g-p*(d3_geo_cartesianDot(_,_)-1);if(!(y<0)){var x=Math.sqrt(y),b=d3_geo_cartesianScale(h,(-g-x)/p);if(d3_geo_cartesianAdd(b,_),b=d3_geo_spherical(b),!o)return b;var M,k=n[0],w=r[0],S=n[1],E=r[1];w<k&&(M=k,k=w,w=M);var N=w-k,C=m(N-z)<D;if(!C&&E<S&&(M=S,S=E,E=M),C||N<D?C?S+E>0^b[1]<(m(b[0]-k)<D?S:E):S<=b[1]&&b[1]<=E:N>z^(k<=b[0]&&b[0]<=w)){var R=d3_geo_cartesianScale(h,(-g+x)/p);return d3_geo_cartesianAdd(R,_),[b,d3_geo_spherical(R)]}}}function code(e,o){var i=r?n:z-n,a=0;return e<-i?a|=1:e>i&&(a|=2),o<-i?a|=4:o>i&&(a|=8),a}}function d3_geom_clipLine(n,e,r,o){return function(i){var a,u=i.a,l=i.b,c=u.x,s=u.y,d=0,f=1,_=l.x-c,h=l.y-s;if(a=n-c,_||!(a>0)){if(a/=_,_<0){if(a<d)return;a<f&&(f=a)}else if(_>0){if(a>f)return;a>d&&(d=a)}if(a=r-c,_||!(a<0)){if(a/=_,_<0){if(a>f)return;a>d&&(d=a)}else if(_>0){if(a<d)return;a<f&&(f=a)}if(a=e-s,h||!(a>0)){if(a/=h,h<0){if(a<d)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>d&&(d=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>d&&(d=a)}else if(h>0){if(a<d)return;a<f&&(f=a)}return d>0&&(i.a={x:c+d*_,y:s+d*h}),f<1&&(i.b={x:c+f*_,y:s+f*h}),i}}}}}}function d3_geo_clipExtent(n,e,r,o){return function(i){var u,l,c,s,d,f,_,h,g,p,m,y=i,x=d3_geo_clipBufferListener(),b=d3_geom_clipLine(n,e,r,o),M={point:point,lineStart:function lineStart(){M.point=linePoint,l&&l.push(c=[]);p=!0,g=!1,_=h=NaN},lineEnd:function lineEnd(){u&&(linePoint(s,d),f&&g&&x.rejoin(),u.push(x.buffer()));M.point=point,g&&i.lineEnd()},polygonStart:function(){i=x,u=[],l=[],m=!0},polygonEnd:function(){i=y,u=a.merge(u);var e=function insidePolygon(n){for(var e=0,r=l.length,o=n[1],i=0;i<r;++i)for(var a,u=1,c=l[i],s=c.length,d=c[0];u<s;++u)a=c[u],d[1]<=o?a[1]>o&&d3_cross2d(d,a,n)>0&&++e:a[1]<=o&&d3_cross2d(d,a,n)<0&&--e,d=a;return 0!==e}([n,o]),r=m&&e,s=u.length;(r||s)&&(i.polygonStart(),r&&(i.lineStart(),interpolate(null,null,1,i),i.lineEnd()),s&&d3_geo_clipPolygon(u,compare,e,interpolate,i),i.polygonEnd()),u=l=c=null}};function interpolate(i,a,u,l){var c=0,s=0;if(null==i||(c=corner(i,u))!==(s=corner(a,u))||comparePoints(i,a)<0^u>0)do{l.point(0===c||3===c?n:r,c>1?o:e)}while((c=(c+u+4)%4)!==s);else l.point(a[0],a[1])}function pointVisible(i,a){return n<=i&&i<=r&&e<=a&&a<=o}function point(n,e){pointVisible(n,e)&&i.point(n,e)}function linePoint(n,e){var r=pointVisible(n=Math.max(-1e9,Math.min(1e9,n)),e=Math.max(-1e9,Math.min(1e9,e)));if(l&&c.push([n,e]),p)s=n,d=e,f=r,p=!1,r&&(i.lineStart(),i.point(n,e));else if(r&&g)i.point(n,e);else{var o={a:{x:_,y:h},b:{x:n,y:e}};b(o)?(g||(i.lineStart(),i.point(o.a.x,o.a.y)),i.point(o.b.x,o.b.y),r||i.lineEnd(),m=!1):r&&(i.lineStart(),i.point(n,e),m=!1)}_=n,h=e,g=r}return M};function corner(o,i){return m(o[0]-n)<D?i>0?0:3:m(o[0]-r)<D?i>0?2:1:m(o[1]-e)<D?i>0?1:0:i>0?3:2}function compare(n,e){return comparePoints(n.x,e.x)}function comparePoints(n,e){var r=corner(n,1),o=corner(e,1);return r!==o?r-o:0===r?e[1]-n[1]:1===r?n[0]-e[0]:2===r?n[1]-e[1]:e[0]-n[0]}}function d3_geo_compose(n,e){function compose(r,o){return r=n(r,o),e(r[0],r[1])}return n.invert&&e.invert&&(compose.invert=function(r,o){return(r=e.invert(r,o))&&n.invert(r[0],r[1])}),compose}function d3_geo_conic(n){var e=0,r=z/3,o=d3_geo_projectionMutator(n),i=o(e,r);return i.parallels=function(n){return arguments.length?o(e=n[0]*z/180,r=n[1]*z/180):[e/z*180,r/z*180]},i}function d3_geo_conicEqualArea(n,e){var r=Math.sin(n),o=(r+Math.sin(e))/2,i=1+r*(2*o-r),a=Math.sqrt(i)/o;function forward(n,e){var r=Math.sqrt(i-2*o*Math.sin(e))/o;return[r*Math.sin(n*=o),a-r*Math.cos(n)]}return forward.invert=function(n,e){var r=a-e;return[Math.atan2(n,r)/o,d3_asin((i-(n*n+r*r)*o*o)/(2*o))]},forward}a.geo.clipExtent=function(){var n,e,r,o,i,a,u={stream:function(n){return i&&(i.valid=!1),(i=a(n)).valid=!0,i},extent:function(l){return arguments.length?(a=d3_geo_clipExtent(n=+l[0][0],e=+l[0][1],r=+l[1][0],o=+l[1][1]),i&&(i.valid=!1,i=null),u):[[n,e],[r,o]]}};return u.extent([[0,0],[960,500]])},(a.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){var n,e,r,o,i=a.geo.albers(),u=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,r){n=[e,r]}};function albersUsa(i){var a=i[0],u=i[1];return n=null,e(a,u),n||(r(a,u),n)||o(a,u),n}return albersUsa.invert=function(n){var e=i.scale(),r=i.translate(),o=(n[0]-r[0])/e,a=(n[1]-r[1])/e;return(a>=.12&&a<.234&&o>=-.425&&o<-.214?u:a>=.166&&a<.234&&o>=-.214&&o<-.115?l:i).invert(n)},albersUsa.stream=function(n){var e=i.stream(n),r=u.stream(n),o=l.stream(n);return{point:function(n,i){e.point(n,i),r.point(n,i),o.point(n,i)},sphere:function(){e.sphere(),r.sphere(),o.sphere()},lineStart:function(){e.lineStart(),r.lineStart(),o.lineStart()},lineEnd:function(){e.lineEnd(),r.lineEnd(),o.lineEnd()},polygonStart:function(){e.polygonStart(),r.polygonStart(),o.polygonStart()},polygonEnd:function(){e.polygonEnd(),r.polygonEnd(),o.polygonEnd()}}},albersUsa.precision=function(n){return arguments.length?(i.precision(n),u.precision(n),l.precision(n),albersUsa):i.precision()},albersUsa.scale=function(n){return arguments.length?(i.scale(n),u.scale(.35*n),l.scale(n),albersUsa.translate(i.translate())):i.scale()},albersUsa.translate=function(n){if(!arguments.length)return i.translate();var a=i.scale(),s=+n[0],d=+n[1];return e=i.translate(n).clipExtent([[s-.455*a,d-.238*a],[s+.455*a,d+.238*a]]).stream(c).point,r=u.translate([s-.307*a,d+.201*a]).clipExtent([[s-.425*a+D,d+.12*a+D],[s-.214*a-D,d+.234*a-D]]).stream(c).point,o=l.translate([s-.205*a,d+.212*a]).clipExtent([[s-.214*a+D,d+.166*a+D],[s-.115*a-D,d+.234*a-D]]).stream(c).point,albersUsa},albersUsa.scale(1070)};var At,Pt,Lt,zt,Tt,qt,Dt={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){Pt=0,Dt.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){Dt.lineStart=Dt.lineEnd=Dt.point=d3_noop,At+=m(Pt/2)}};function d3_geo_pathAreaRingStart(){var n,e,r,o;function nextPoint(n,e){Pt+=o*n-r*e,r=n,o=e}Dt.point=function(i,a){Dt.point=nextPoint,n=r=i,e=o=a},Dt.lineEnd=function(){nextPoint(n,e)}}var jt={point:function d3_geo_pathBoundsPoint(n,e){n<Lt&&(Lt=n);n>Tt&&(Tt=n);e<zt&&(zt=e);e>qt&&(qt=e)},lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop};function d3_geo_pathBuffer(){var n=d3_geo_pathBufferCircle(4.5),e=[],r={point:point,lineStart:function(){r.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){r.lineEnd=lineEndPolygon},polygonEnd:function(){r.lineEnd=lineEnd,r.point=point},pointRadius:function(e){return n=d3_geo_pathBufferCircle(e),r},result:function(){if(e.length){var n=e.join("");return e=[],n}}};function point(r,o){e.push("M",r,",",o,n)}function pointLineStart(n,o){e.push("M",n,",",o),r.point=pointLine}function pointLine(n,r){e.push("L",n,",",r)}function lineEnd(){r.point=point}function lineEndPolygon(){e.push("Z")}return r}function d3_geo_pathBufferCircle(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}var Bt,Ft={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){Ft.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){Ft.point=d3_geo_pathCentroidPoint,Ft.lineStart=d3_geo_pathCentroidLineStart,Ft.lineEnd=d3_geo_pathCentroidLineEnd}};function d3_geo_pathCentroidPoint(n,e){vt+=n,mt+=e,++yt}function d3_geo_pathCentroidLineStart(){var n,e;function nextPoint(r,o){var i=r-n,a=o-e,u=Math.sqrt(i*i+a*a);xt+=u*(n+r)/2,bt+=u*(e+o)/2,Mt+=u,d3_geo_pathCentroidPoint(n=r,e=o)}Ft.point=function(r,o){Ft.point=nextPoint,d3_geo_pathCentroidPoint(n=r,e=o)}}function d3_geo_pathCentroidLineEnd(){Ft.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){var n,e,r,o;function nextPoint(n,e){var i=n-r,a=e-o,u=Math.sqrt(i*i+a*a);xt+=u*(r+n)/2,bt+=u*(o+e)/2,Mt+=u,kt+=(u=o*n-r*e)*(r+n),wt+=u*(o+e),St+=3*u,d3_geo_pathCentroidPoint(r=n,o=e)}Ft.point=function(i,a){Ft.point=nextPoint,d3_geo_pathCentroidPoint(n=r=i,e=o=a)},Ft.lineEnd=function(){nextPoint(n,e)}}function d3_geo_pathContext(n){var e=4.5,r={point:point,lineStart:function(){r.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){r.lineEnd=lineEndPolygon},polygonEnd:function(){r.lineEnd=lineEnd,r.point=point},pointRadius:function(n){return e=n,r},result:d3_noop};function point(r,o){n.moveTo(r,o),n.arc(r,o,e,0,T)}function pointLineStart(e,o){n.moveTo(e,o),r.point=pointLine}function pointLine(e,r){n.lineTo(e,r)}function lineEnd(){r.point=point}function lineEndPolygon(){n.closePath()}return r}function d3_geo_resample(n){var e=.5,r=Math.cos(30*j),o=16;function resample(n){return(o?resampleRecursive:resampleNone)(n)}function resampleNone(e){return d3_geo_transformPoint(e,(function(r,o){r=n(r,o),e.point(r[0],r[1])}))}function resampleRecursive(e){var r,i,a,u,l,c,s,d,f,_,h,g,p={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){e.polygonStart(),p.lineStart=ringStart},polygonEnd:function(){e.polygonEnd(),p.lineStart=lineStart}};function point(r,o){r=n(r,o),e.point(r[0],r[1])}function lineStart(){d=NaN,p.point=linePoint,e.lineStart()}function linePoint(r,i){var a=d3_geo_cartesian([r,i]),u=n(r,i);resampleLineTo(d,f,s,_,h,g,d=u[0],f=u[1],s=r,_=a[0],h=a[1],g=a[2],o,e),e.point(d,f)}function lineEnd(){p.point=point,e.lineEnd()}function ringStart(){lineStart(),p.point=ringPoint,p.lineEnd=ringEnd}function ringPoint(n,e){linePoint(r=n,e),i=d,a=f,u=_,l=h,c=g,p.point=linePoint}function ringEnd(){resampleLineTo(d,f,s,_,h,g,i,a,r,u,l,c,o,e),p.lineEnd=lineEnd,lineEnd()}return p}function resampleLineTo(o,i,a,u,l,c,s,d,f,_,h,g,p,y){var x=s-o,b=d-i,M=x*x+b*b;if(M>4*e&&p--){var k=u+_,w=l+h,S=c+g,E=Math.sqrt(k*k+w*w+S*S),N=Math.asin(S/=E),C=m(m(S)-1)<D||m(a-f)<D?(a+f)/2:Math.atan2(w,k),R=n(C,N),A=R[0],P=R[1],L=A-o,z=P-i,T=b*L-x*z;(T*T/M>e||m((x*L+b*z)/M-.5)>.3||u*_+l*h+c*g<r)&&(resampleLineTo(o,i,a,u,l,c,A,P,C,k/=E,w/=E,S,p,y),y.point(A,P),resampleLineTo(A,P,C,k,w,S,s,d,f,_,h,g,p,y))}}return resample.precision=function(n){return arguments.length?(o=(e=n*n)>0&&16,resample):Math.sqrt(e)},resample}function d3_geo_pathProjectStream(n){var e=d3_geo_resample((function(e,r){return n([e*B,r*B])}));return function(n){return d3_geo_projectionRadians(e(n))}}function d3_geo_transform(n){this.stream=n}function d3_geo_transformPoint(n,e){return{point:e,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function d3_geo_projection(n){return d3_geo_projectionMutator((function(){return n}))()}function d3_geo_projectionMutator(n){var e,r,o,i,u,l,c=d3_geo_resample((function(n,r){return[(n=e(n,r))[0]*s+i,u-n[1]*s]})),s=150,d=480,f=250,_=0,h=0,g=0,p=0,m=0,y=Rt,x=d3_identity,b=null,M=null;function projection(n){return[(n=o(n[0]*j,n[1]*j))[0]*s+i,u-n[1]*s]}function invert(n){return(n=o.invert((n[0]-i)/s,(u-n[1])/s))&&[n[0]*B,n[1]*B]}function reset(){o=d3_geo_compose(r=d3_geo_rotation(g,p,m),e);var n=e(_,h);return i=d-n[0]*s,u=f+n[1]*s,invalidate()}function invalidate(){return l&&(l.valid=!1,l=null),projection}return projection.stream=function(n){return l&&(l.valid=!1),(l=d3_geo_projectionRadians(y(r,c(x(n))))).valid=!0,l},projection.clipAngle=function(n){return arguments.length?(y=null==n?(b=n,Rt):d3_geo_clipCircle((b=+n)*j),invalidate()):b},projection.clipExtent=function(n){return arguments.length?(M=n,x=n?d3_geo_clipExtent(n[0][0],n[0][1],n[1][0],n[1][1]):d3_identity,invalidate()):M},projection.scale=function(n){return arguments.length?(s=+n,reset()):s},projection.translate=function(n){return arguments.length?(d=+n[0],f=+n[1],reset()):[d,f]},projection.center=function(n){return arguments.length?(_=n[0]%360*j,h=n[1]%360*j,reset()):[_*B,h*B]},projection.rotate=function(n){return arguments.length?(g=n[0]%360*j,p=n[1]%360*j,m=n.length>2?n[2]%360*j:0,reset()):[g*B,p*B,m*B]},a.rebind(projection,c,"precision"),function(){return e=n.apply(this,arguments),projection.invert=e.invert&&invert,reset()}}function d3_geo_projectionRadians(n){return d3_geo_transformPoint(n,(function(e,r){n.point(e*j,r*j)}))}function d3_geo_equirectangular(n,e){return[n,e]}function d3_geo_identityRotation(n,e){return[n>z?n-T:n<-z?n+T:n,e]}function d3_geo_rotation(n,e,r){return n?e||r?d3_geo_compose(d3_geo_rotationλ(n),d3_geo_rotationφγ(e,r)):d3_geo_rotationλ(n):e||r?d3_geo_rotationφγ(e,r):d3_geo_identityRotation}function d3_geo_forwardRotationλ(n){return function(e,r){return[(e+=n)>z?e-T:e<-z?e+T:e,r]}}function d3_geo_rotationλ(n){var e=d3_geo_forwardRotationλ(n);return e.invert=d3_geo_forwardRotationλ(-n),e}function d3_geo_rotationφγ(n,e){var r=Math.cos(n),o=Math.sin(n),i=Math.cos(e),a=Math.sin(e);function rotation(n,e){var u=Math.cos(e),l=Math.cos(n)*u,c=Math.sin(n)*u,s=Math.sin(e),d=s*r+l*o;return[Math.atan2(c*i-d*a,l*r-s*o),d3_asin(d*i+c*a)]}return rotation.invert=function(n,e){var u=Math.cos(e),l=Math.cos(n)*u,c=Math.sin(n)*u,s=Math.sin(e),d=s*i-c*a;return[Math.atan2(c*i+s*a,l*r+d*o),d3_asin(d*r-l*o)]},rotation}function d3_geo_circleInterpolate(n,e){var r=Math.cos(n),o=Math.sin(n);return function(i,a,u,l){var c=u*e;null!=i?(i=d3_geo_circleAngle(r,i),a=d3_geo_circleAngle(r,a),(u>0?i<a:i>a)&&(i+=u*T)):(i=n+u*T,a=n-.5*c);for(var s,d=i;u>0?d>a:d<a;d-=c)l.point((s=d3_geo_spherical([r,-o*Math.cos(d),-o*Math.sin(d)]))[0],s[1])}}function d3_geo_circleAngle(n,e){var r=d3_geo_cartesian(e);r[0]-=n,d3_geo_cartesianNormalize(r);var o=d3_acos(-r[1]);return((-r[2]<0?-o:o)+2*Math.PI-D)%(2*Math.PI)}function d3_geo_graticuleX(n,e,r){var o=a.range(n,e-D,r).concat(e);return function(n){return o.map((function(e){return[n,e]}))}}function d3_geo_graticuleY(n,e,r){var o=a.range(n,e-D,r).concat(e);return function(n){return o.map((function(e){return[e,n]}))}}function d3_source(n){return n.source}function d3_target(n){return n.target}a.geo.path=function(){var n,e,r,o,i,u=4.5;function path(n){return n&&("function"==typeof u&&o.pointRadius(+u.apply(this,arguments)),i&&i.valid||(i=r(o)),a.geo.stream(n,i)),o.result()}function reset(){return i=null,path}return path.area=function(n){return At=0,a.geo.stream(n,r(Dt)),At},path.centroid=function(n){return vt=mt=yt=xt=bt=Mt=kt=wt=St=0,a.geo.stream(n,r(Ft)),St?[kt/St,wt/St]:Mt?[xt/Mt,bt/Mt]:yt?[vt/yt,mt/yt]:[NaN,NaN]},path.bounds=function(n){return Tt=qt=-(Lt=zt=1/0),a.geo.stream(n,r(jt)),[[Lt,zt],[Tt,qt]]},path.projection=function(e){return arguments.length?(r=(n=e)?e.stream||d3_geo_pathProjectStream(e):d3_identity,reset()):n},path.context=function(n){return arguments.length?(o=null==(e=n)?new d3_geo_pathBuffer:new d3_geo_pathContext(n),"function"!=typeof u&&o.pointRadius(u),reset()):e},path.pointRadius=function(n){return arguments.length?(u="function"==typeof n?n:(o.pointRadius(+n),+n),path):u},path.projection(a.geo.albersUsa()).context(null)},a.geo.transform=function(n){return{stream:function(e){var r=new d3_geo_transform(e);for(var o in n)r[o]=n[o];return r}}},d3_geo_transform.prototype={point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},a.geo.projection=d3_geo_projection,a.geo.projectionMutator=d3_geo_projectionMutator,(a.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,a.geo.rotation=function(n){function forward(e){return(e=n(e[0]*j,e[1]*j))[0]*=B,e[1]*=B,e}return n=d3_geo_rotation(n[0]%360*j,n[1]*j,n.length>2?n[2]*j:0),forward.invert=function(e){return(e=n.invert(e[0]*j,e[1]*j))[0]*=B,e[1]*=B,e},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,a.geo.circle=function(){var n,e,r=[0,0],o=6;function circle(){var n="function"==typeof r?r.apply(this,arguments):r,o=d3_geo_rotation(-n[0]*j,-n[1]*j,0).invert,i=[];return e(null,null,1,{point:function(n,e){i.push(n=o(n,e)),n[0]*=B,n[1]*=B}}),{type:"Polygon",coordinates:[i]}}return circle.origin=function(n){return arguments.length?(r=n,circle):r},circle.angle=function(r){return arguments.length?(e=d3_geo_circleInterpolate((n=+r)*j,o*j),circle):n},circle.precision=function(r){return arguments.length?(e=d3_geo_circleInterpolate(n*j,(o=+r)*j),circle):o},circle.angle(90)},a.geo.distance=function(n,e){var r,o=(e[0]-n[0])*j,i=n[1]*j,a=e[1]*j,u=Math.sin(o),l=Math.cos(o),c=Math.sin(i),s=Math.cos(i),d=Math.sin(a),f=Math.cos(a);return Math.atan2(Math.sqrt((r=f*u)*r+(r=s*d-c*f*l)*r),c*d+s*f*l)},a.geo.graticule=function(){var n,e,r,o,i,u,l,c,s,d,f,_,h=10,g=h,p=90,y=360,x=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return a.range(Math.ceil(o/p)*p,r,p).map(f).concat(a.range(Math.ceil(c/y)*y,l,y).map(_)).concat(a.range(Math.ceil(e/h)*h,n,h).filter((function(n){return m(n%p)>D})).map(s)).concat(a.range(Math.ceil(u/g)*g,i,g).filter((function(n){return m(n%y)>D})).map(d))}return graticule.lines=function(){return lines().map((function(n){return{type:"LineString",coordinates:n}}))},graticule.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(_(l).slice(1),f(r).reverse().slice(1),_(c).reverse().slice(1))]}},graticule.extent=function(n){return arguments.length?graticule.majorExtent(n).minorExtent(n):graticule.minorExtent()},graticule.majorExtent=function(n){return arguments.length?(o=+n[0][0],r=+n[1][0],c=+n[0][1],l=+n[1][1],o>r&&(n=o,o=r,r=n),c>l&&(n=c,c=l,l=n),graticule.precision(x)):[[o,c],[r,l]]},graticule.minorExtent=function(r){return arguments.length?(e=+r[0][0],n=+r[1][0],u=+r[0][1],i=+r[1][1],e>n&&(r=e,e=n,n=r),u>i&&(r=u,u=i,i=r),graticule.precision(x)):[[e,u],[n,i]]},graticule.step=function(n){return arguments.length?graticule.majorStep(n).minorStep(n):graticule.minorStep()},graticule.majorStep=function(n){return arguments.length?(p=+n[0],y=+n[1],graticule):[p,y]},graticule.minorStep=function(n){return arguments.length?(h=+n[0],g=+n[1],graticule):[h,g]},graticule.precision=function(a){return arguments.length?(x=+a,s=d3_geo_graticuleX(u,i,90),d=d3_geo_graticuleY(e,n,x),f=d3_geo_graticuleX(c,l,90),_=d3_geo_graticuleY(o,r,x),graticule):x},graticule.majorExtent([[-180,-90+D],[180,90-D]]).minorExtent([[-180,-80-D],[180,80+D]])},a.geo.greatArc=function(){var n,e,r=d3_source,o=d3_target;function greatArc(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),e||o.apply(this,arguments)]}}return greatArc.distance=function(){return a.geo.distance(n||r.apply(this,arguments),e||o.apply(this,arguments))},greatArc.source=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,greatArc):r},greatArc.target=function(n){return arguments.length?(o=n,e="function"==typeof n?null:n,greatArc):o},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},a.geo.interpolate=function(n,e){return function d3_geo_interpolate(n,e,r,o){var i=Math.cos(e),a=Math.sin(e),u=Math.cos(o),l=Math.sin(o),c=i*Math.cos(n),s=i*Math.sin(n),d=u*Math.cos(r),f=u*Math.sin(r),_=2*Math.asin(Math.sqrt(d3_haversin(o-e)+i*u*d3_haversin(r-n))),h=1/Math.sin(_),g=_?function(n){var e=Math.sin(n*=_)*h,r=Math.sin(_-n)*h,o=r*c+e*d,i=r*s+e*f,u=r*a+e*l;return[Math.atan2(i,o)*B,Math.atan2(u,Math.sqrt(o*o+i*i))*B]}:function(){return[n*B,e*B]};return g.distance=_,g}(n[0]*j,n[1]*j,e[0]*j,e[1]*j)},a.geo.length=function(n){return Bt=0,a.geo.stream(n,Ht),Bt};var Ht={sphere:d3_noop,point:d3_noop,lineStart:function d3_geo_lengthLineStart(){var n,e,r;function nextPoint(o,i){var a=Math.sin(i*=j),u=Math.cos(i),l=m((o*=j)-n),c=Math.cos(l);Bt+=Math.atan2(Math.sqrt((l=u*Math.sin(l))*l+(l=r*a-e*u*c)*l),e*a+r*u*c),n=o,e=a,r=u}Ht.point=function(o,i){n=o*j,e=Math.sin(i*=j),r=Math.cos(i),Ht.point=nextPoint},Ht.lineEnd=function(){Ht.point=Ht.lineEnd=d3_noop}},lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop};function d3_geo_azimuthal(n,e){function azimuthal(e,r){var o=Math.cos(e),i=Math.cos(r),a=n(o*i);return[a*i*Math.sin(e),a*Math.sin(r)]}return azimuthal.invert=function(n,r){var o=Math.sqrt(n*n+r*r),i=e(o),a=Math.sin(i),u=Math.cos(i);return[Math.atan2(n*a,o*u),Math.asin(o&&r*a/o)]},azimuthal}var It=d3_geo_azimuthal((function(n){return Math.sqrt(2/(1+n))}),(function(n){return 2*Math.asin(n/2)}));(a.geo.azimuthalEqualArea=function(){return d3_geo_projection(It)}).raw=It;var Ut=d3_geo_azimuthal((function(n){var e=Math.acos(n);return e&&e/Math.sin(e)}),d3_identity);function d3_geo_conicConformal(n,e){var r=Math.cos(n),t=function(n){return Math.tan(z/4+n/2)},o=n===e?Math.sin(n):Math.log(r/Math.cos(e))/Math.log(t(e)/t(n)),i=r*Math.pow(t(n),o)/o;if(!o)return d3_geo_mercator;function forward(n,e){var r=m(m(e)-q)<D?0:i/Math.pow(t(e),o);return[r*Math.sin(o*n),i-r*Math.cos(o*n)]}return forward.invert=function(n,e){var r=i-e,a=d3_sgn(o)*Math.sqrt(n*n+r*r);return[Math.atan2(n,r)/o,2*Math.atan(Math.pow(i/a,1/o))-q]},forward}function d3_geo_conicEquidistant(n,e){var r=Math.cos(n),o=n===e?Math.sin(n):(r-Math.cos(e))/(e-n),i=r/o+n;if(m(o)<D)return d3_geo_equirectangular;function forward(n,e){var r=i-e;return[r*Math.sin(o*n),i-r*Math.cos(o*n)]}return forward.invert=function(n,e){var r=i-e;return[Math.atan2(n,r)/o,i-d3_sgn(o)*Math.sqrt(n*n+r*r)]},forward}(a.geo.azimuthalEquidistant=function(){return d3_geo_projection(Ut)}).raw=Ut,(a.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(a.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var Yt=d3_geo_azimuthal((function(n){return 1/n}),Math.atan);function d3_geo_mercator(n,e){return[n,Math.log(Math.tan(z/4+e/2))]}function d3_geo_mercatorProjection(n){var e,r=d3_geo_projection(n),o=r.scale,i=r.translate,a=r.clipExtent;return r.scale=function(){var n=o.apply(r,arguments);return n===r?e?r.clipExtent(null):r:n},r.translate=function(){var n=i.apply(r,arguments);return n===r?e?r.clipExtent(null):r:n},r.clipExtent=function(n){var u=a.apply(r,arguments);if(u===r){if(e=null==n){var l=z*o(),c=i();a([[c[0]-l,c[1]-l],[c[0]+l,c[1]+l]])}}else e&&(u=null);return u},r.clipExtent(null)}(a.geo.gnomonic=function(){return d3_geo_projection(Yt)}).raw=Yt,d3_geo_mercator.invert=function(n,e){return[n,2*Math.atan(Math.exp(e))-q]},(a.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var Ot=d3_geo_azimuthal((function(){return 1}),Math.asin);(a.geo.orthographic=function(){return d3_geo_projection(Ot)}).raw=Ot;var Vt=d3_geo_azimuthal((function(n){return 1/(1+n)}),(function(n){return 2*Math.atan(n)}));function d3_geo_transverseMercator(n,e){return[Math.log(Math.tan(z/4+e/2)),-n]}function d3_geom_pointX(n){return n[0]}function d3_geom_pointY(n){return n[1]}function d3_geom_hullUpper(n){for(var e=n.length,r=[0,1],o=2,i=2;i<e;i++){for(;o>1&&d3_cross2d(n[r[o-2]],n[r[o-1]],n[i])<=0;)--o;r[o++]=i}return r.slice(0,o)}function d3_geom_hullOrder(n,e){return n[0]-e[0]||n[1]-e[1]}(a.geo.stereographic=function(){return d3_geo_projection(Vt)}).raw=Vt,d3_geo_transverseMercator.invert=function(n,e){return[-e,2*Math.atan(Math.exp(n))-q]},(a.geo.transverseMercator=function(){var n=d3_geo_mercatorProjection(d3_geo_transverseMercator),e=n.center,r=n.rotate;return n.center=function(n){return n?e([-n[1],n[0]]):[-(n=e())[1],n[0]]},n.rotate=function(n){return n?r([n[0],n[1],n.length>2?n[2]+90:90]):[(n=r())[0],n[1],n[2]-90]},n.rotate([0,0])}).raw=d3_geo_transverseMercator,a.geom={},a.geom.hull=function(n){var e=d3_geom_pointX,r=d3_geom_pointY;if(arguments.length)return hull(n);function hull(n){if(n.length<3)return[];var o,i=d3_functor(e),a=d3_functor(r),u=n.length,l=[],c=[];for(o=0;o<u;o++)l.push([+i.call(this,n[o],o),+a.call(this,n[o],o),o]);for(l.sort(d3_geom_hullOrder),o=0;o<u;o++)c.push([l[o][0],-l[o][1]]);var s=d3_geom_hullUpper(l),d=d3_geom_hullUpper(c),f=d[0]===s[0],_=d[d.length-1]===s[s.length-1],h=[];for(o=s.length-1;o>=0;--o)h.push(n[l[s[o]][2]]);for(o=+f;o<d.length-_;++o)h.push(n[l[d[o]][2]]);return h}return hull.x=function(n){return arguments.length?(e=n,hull):e},hull.y=function(n){return arguments.length?(r=n,hull):r},hull},a.geom.polygon=function(n){return k(n,Xt),n};var Xt=a.geom.polygon.prototype=[];function d3_geom_polygonInside(n,e,r){return(r[0]-e[0])*(n[1]-e[1])<(r[1]-e[1])*(n[0]-e[0])}function d3_geom_polygonIntersect(n,e,r,o){var i=n[0],a=r[0],u=e[0]-i,l=o[0]-a,c=n[1],s=r[1],d=e[1]-c,f=o[1]-s,_=(l*(c-s)-f*(i-a))/(f*u-l*d);return[i+_*u,c+_*d]}function d3_geom_polygonClosed(n){var e=n[0],r=n[n.length-1];return!(e[0]-r[0]||e[1]-r[1])}Xt.area=function(){for(var n,e=-1,r=this.length,o=this[r-1],i=0;++e<r;)n=o,o=this[e],i+=n[1]*o[0]-n[0]*o[1];return.5*i},Xt.centroid=function(n){var e,r,o=-1,i=this.length,a=0,u=0,l=this[i-1];for(arguments.length||(n=-1/(6*this.area()));++o<i;)e=l,l=this[o],r=e[0]*l[1]-l[0]*e[1],a+=(e[0]+l[0])*r,u+=(e[1]+l[1])*r;return[a*n,u*n]},Xt.clip=function(n){for(var e,r,o,i,a,u,l=d3_geom_polygonClosed(n),c=-1,s=this.length-d3_geom_polygonClosed(this),d=this[s-1];++c<s;){for(e=n.slice(),n.length=0,i=this[c],a=e[(o=e.length-l)-1],r=-1;++r<o;)d3_geom_polygonInside(u=e[r],d,i)?(d3_geom_polygonInside(a,d,i)||n.push(d3_geom_polygonIntersect(a,u,d,i)),n.push(u)):d3_geom_polygonInside(a,d,i)&&n.push(d3_geom_polygonIntersect(a,u,d,i)),a=u;l&&n.push(n[0]),d=i}return n};var Zt,Wt,$t,Gt,Jt,Kt=[],Qt=[];function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(n){var e=Kt.pop()||new d3_geom_voronoiBeach;return e.site=n,e}function d3_geom_voronoiDetachBeach(n){d3_geom_voronoiDetachCircle(n),$t.remove(n),Kt.push(n),d3_geom_voronoiRedBlackNode(n)}function d3_geom_voronoiRemoveBeach(n){var e=n.circle,r=e.x,o=e.cy,i={x:r,y:o},a=n.P,u=n.N,l=[n];d3_geom_voronoiDetachBeach(n);for(var c=a;c.circle&&m(r-c.circle.x)<D&&m(o-c.circle.cy)<D;)a=c.P,l.unshift(c),d3_geom_voronoiDetachBeach(c),c=a;l.unshift(c),d3_geom_voronoiDetachCircle(c);for(var s=u;s.circle&&m(r-s.circle.x)<D&&m(o-s.circle.cy)<D;)u=s.N,l.push(s),d3_geom_voronoiDetachBeach(s),s=u;l.push(s),d3_geom_voronoiDetachCircle(s);var d,f=l.length;for(d=1;d<f;++d)s=l[d],c=l[d-1],d3_geom_voronoiSetEdgeEnd(s.edge,c.site,s.site,i);c=l[0],(s=l[f-1]).edge=d3_geom_voronoiCreateEdge(c.site,s.site,null,i),d3_geom_voronoiAttachCircle(c),d3_geom_voronoiAttachCircle(s)}function d3_geom_voronoiAddBeach(n){for(var e,r,o,i,a=n.x,u=n.y,l=$t._;l;)if((o=d3_geom_voronoiLeftBreakPoint(l,u)-a)>D)l=l.L;else{if(!((i=a-d3_geom_voronoiRightBreakPoint(l,u))>D)){o>-D?(e=l.P,r=l):i>-D?(e=l,r=l.N):e=r=l;break}if(!l.R){e=l;break}l=l.R}var c=d3_geom_voronoiCreateBeach(n);if($t.insert(e,c),e||r){if(e===r)return d3_geom_voronoiDetachCircle(e),r=d3_geom_voronoiCreateBeach(e.site),$t.insert(c,r),c.edge=r.edge=d3_geom_voronoiCreateEdge(e.site,c.site),d3_geom_voronoiAttachCircle(e),void d3_geom_voronoiAttachCircle(r);if(r){d3_geom_voronoiDetachCircle(e),d3_geom_voronoiDetachCircle(r);var s=e.site,d=s.x,f=s.y,_=n.x-d,h=n.y-f,g=r.site,p=g.x-d,m=g.y-f,y=2*(_*m-h*p),x=_*_+h*h,b=p*p+m*m,M={x:(m*x-h*b)/y+d,y:(_*b-p*x)/y+f};d3_geom_voronoiSetEdgeEnd(r.edge,s,g,M),c.edge=d3_geom_voronoiCreateEdge(s,n,null,M),r.edge=d3_geom_voronoiCreateEdge(n,g,null,M),d3_geom_voronoiAttachCircle(e),d3_geom_voronoiAttachCircle(r)}else c.edge=d3_geom_voronoiCreateEdge(e.site,c.site)}}function d3_geom_voronoiLeftBreakPoint(n,e){var r=n.site,o=r.x,i=r.y,a=i-e;if(!a)return o;var u=n.P;if(!u)return-1/0;var l=(r=u.site).x,c=r.y,s=c-e;if(!s)return l;var d=l-o,f=1/a-1/s,_=d/s;return f?(-_+Math.sqrt(_*_-2*f*(d*d/(-2*s)-c+s/2+i-a/2)))/f+o:(o+l)/2}function d3_geom_voronoiRightBreakPoint(n,e){var r=n.N;if(r)return d3_geom_voronoiLeftBreakPoint(r,e);var o=n.site;return o.y===e?o.x:1/0}function d3_geom_voronoiCell(n){this.site=n,this.edges=[]}function d3_geom_voronoiHalfEdgeOrder(n,e){return e.angle-n.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(n){var e=n.P,r=n.N;if(e&&r){var o=e.site,i=n.site,a=r.site;if(o!==a){var u=i.x,l=i.y,c=o.x-u,s=o.y-l,d=a.x-u,f=2*(c*(m=a.y-l)-s*d);if(!(f>=-1e-12)){var _=c*c+s*s,h=d*d+m*m,g=(m*_-s*h)/f,p=(c*h-d*_)/f,m=p+l,y=Qt.pop()||new d3_geom_voronoiCircle;y.arc=n,y.site=i,y.x=g+u,y.y=m+Math.sqrt(g*g+p*p),y.cy=m,n.circle=y;for(var x=null,b=Jt._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){x=b.P;break}b=b.L}else{if(!b.R){x=b;break}b=b.R}Jt.insert(x,y),x||(Gt=y)}}}}function d3_geom_voronoiDetachCircle(n){var e=n.circle;e&&(e.P||(Gt=e.N),Jt.remove(e),Qt.push(e),d3_geom_voronoiRedBlackNode(e),n.circle=null)}function d3_geom_voronoiConnectEdge(n,e){var r=n.b;if(r)return!0;var o,i,a=n.a,u=e[0][0],l=e[1][0],c=e[0][1],s=e[1][1],d=n.l,f=n.r,_=d.x,h=d.y,g=f.x,p=f.y,m=(_+g)/2,y=(h+p)/2;if(p===h){if(m<u||m>=l)return;if(_>g){if(a){if(a.y>=s)return}else a={x:m,y:c};r={x:m,y:s}}else{if(a){if(a.y<c)return}else a={x:m,y:s};r={x:m,y:c}}}else if(i=y-(o=(_-g)/(p-h))*m,o<-1||o>1)if(_>g){if(a){if(a.y>=s)return}else a={x:(c-i)/o,y:c};r={x:(s-i)/o,y:s}}else{if(a){if(a.y<c)return}else a={x:(s-i)/o,y:s};r={x:(c-i)/o,y:c}}else if(h<p){if(a){if(a.x>=l)return}else a={x:u,y:o*u+i};r={x:l,y:o*l+i}}else{if(a){if(a.x<u)return}else a={x:l,y:o*l+i};r={x:u,y:o*u+i}}return n.a=a,n.b=r,!0}function d3_geom_voronoiEdge(n,e){this.l=n,this.r=e,this.a=this.b=null}function d3_geom_voronoiCreateEdge(n,e,r,o){var i=new d3_geom_voronoiEdge(n,e);return Zt.push(i),r&&d3_geom_voronoiSetEdgeEnd(i,n,e,r),o&&d3_geom_voronoiSetEdgeEnd(i,e,n,o),Wt[n.i].edges.push(new d3_geom_voronoiHalfEdge(i,n,e)),Wt[e.i].edges.push(new d3_geom_voronoiHalfEdge(i,e,n)),i}function d3_geom_voronoiCreateBorderEdge(n,e,r){var o=new d3_geom_voronoiEdge(n,null);return o.a=e,o.b=r,Zt.push(o),o}function d3_geom_voronoiSetEdgeEnd(n,e,r,o){n.a||n.b?n.l===r?n.b=o:n.a=o:(n.a=o,n.l=e,n.r=r)}function d3_geom_voronoiHalfEdge(n,e,r){var o=n.a,i=n.b;this.edge=n,this.site=e,this.angle=r?Math.atan2(r.y-e.y,r.x-e.x):n.l===e?Math.atan2(i.x-o.x,o.y-i.y):Math.atan2(o.x-i.x,i.y-o.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function d3_geom_voronoiRedBlackRotateLeft(n,e){var r=e,o=e.R,i=r.U;i?i.L===r?i.L=o:i.R=o:n._=o,o.U=i,r.U=o,r.R=o.L,r.R&&(r.R.U=r),o.L=r}function d3_geom_voronoiRedBlackRotateRight(n,e){var r=e,o=e.L,i=r.U;i?i.L===r?i.L=o:i.R=o:n._=o,o.U=i,r.U=o,r.L=o.R,r.L&&(r.L.U=r),o.R=r}function d3_geom_voronoiRedBlackFirst(n){for(;n.L;)n=n.L;return n}function d3_geom_voronoi(n,e){var r,o,i,a=n.sort(d3_geom_voronoiVertexOrder).pop();for(Zt=[],Wt=new Array(n.length),$t=new d3_geom_voronoiRedBlackTree,Jt=new d3_geom_voronoiRedBlackTree;;)if(i=Gt,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===r&&a.y===o||(Wt[a.i]=new d3_geom_voronoiCell(a),d3_geom_voronoiAddBeach(a),r=a.x,o=a.y),a=n.pop();else{if(!i)break;d3_geom_voronoiRemoveBeach(i.arc)}e&&(function d3_geom_voronoiClipEdges(n){for(var e,r=Zt,o=d3_geom_clipLine(n[0][0],n[0][1],n[1][0],n[1][1]),i=r.length;i--;)(!d3_geom_voronoiConnectEdge(e=r[i],n)||!o(e)||m(e.a.x-e.b.x)<D&&m(e.a.y-e.b.y)<D)&&(e.a=e.b=null,r.splice(i,1))}(e),function d3_geom_voronoiCloseCells(n){for(var e,r,o,i,a,u,l,c,s,d,f=n[0][0],_=n[1][0],h=n[0][1],g=n[1][1],p=Wt,y=p.length;y--;)if((a=p[y])&&a.prepare())for(c=(l=a.edges).length,u=0;u<c;)o=(d=l[u].end()).x,i=d.y,e=(s=l[++u%c].start()).x,r=s.y,(m(o-e)>D||m(i-r)>D)&&(l.splice(u,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(a.site,d,m(o-f)<D&&g-i>D?{x:f,y:m(e-f)<D?r:g}:m(i-g)<D&&_-o>D?{x:m(r-g)<D?e:_,y:g}:m(o-_)<D&&i-h>D?{x:_,y:m(e-_)<D?r:h}:m(i-h)<D&&o-f>D?{x:m(r-h)<D?e:f,y:h}:null),a.site,null)),++c)}(e));var u={cells:Wt,edges:Zt};return $t=Jt=Zt=Wt=null,u}function d3_geom_voronoiVertexOrder(n,e){return e.y-n.y||e.x-n.x}d3_geom_voronoiCell.prototype.prepare=function(){for(var n,e=this.edges,r=e.length;r--;)(n=e[r].edge).b&&n.a||e.splice(r,1);return e.sort(d3_geom_voronoiHalfEdgeOrder),e.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(n,e){var r,o,i;if(n){if(e.P=n,e.N=n.N,n.N&&(n.N.P=e),n.N=e,n.R){for(n=n.R;n.L;)n=n.L;n.L=e}else n.R=e;r=n}else this._?(n=d3_geom_voronoiRedBlackFirst(this._),e.P=null,e.N=n,n.P=n.L=e,r=n):(e.P=e.N=null,this._=e,r=null);for(e.L=e.R=null,e.U=r,e.C=!0,n=e;r&&r.C;)r===(o=r.U).L?(i=o.R)&&i.C?(r.C=i.C=!1,o.C=!0,n=o):(n===r.R&&(d3_geom_voronoiRedBlackRotateLeft(this,r),r=(n=r).U),r.C=!1,o.C=!0,d3_geom_voronoiRedBlackRotateRight(this,o)):(i=o.L)&&i.C?(r.C=i.C=!1,o.C=!0,n=o):(n===r.L&&(d3_geom_voronoiRedBlackRotateRight(this,r),r=(n=r).U),r.C=!1,o.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,o)),r=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var e,r,o,i=n.U,a=n.L,u=n.R;if(r=a?u?d3_geom_voronoiRedBlackFirst(u):a:u,i?i.L===n?i.L=r:i.R=r:this._=r,a&&u?(o=r.C,r.C=n.C,r.L=a,a.U=r,r!==u?(i=r.U,r.U=n.U,n=r.R,i.L=n,r.R=u,u.U=r):(r.U=i,i=r,n=r.R)):(o=n.C,n=r),n&&(n.U=i),!o)if(n&&n.C)n.C=!1;else{do{if(n===this._)break;if(n===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,d3_geom_voronoiRedBlackRotateRight(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,i),n=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateRight(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,i),n=this._;break}e.C=!0,n=i,i=i.U}while(!n.C);n&&(n.C=!1)}}},a.geom.voronoi=function(n){var e=d3_geom_pointX,r=d3_geom_pointY,o=e,i=r,a=tn;if(n)return voronoi(n);function voronoi(n){var e=new Array(n.length),r=a[0][0],o=a[0][1],i=a[1][0],u=a[1][1];return d3_geom_voronoi(sites(n),a).cells.forEach((function(a,l){var c=a.edges,s=a.site;(e[l]=c.length?c.map((function(n){var e=n.start();return[e.x,e.y]})):s.x>=r&&s.x<=i&&s.y>=o&&s.y<=u?[[r,u],[i,u],[i,o],[r,o]]:[]).point=n[l]})),e}function sites(n){return n.map((function(n,e){return{x:Math.round(o(n,e)/D)*D,y:Math.round(i(n,e)/D)*D,i:e}}))}return voronoi.links=function(n){return d3_geom_voronoi(sites(n)).edges.filter((function(n){return n.l&&n.r})).map((function(e){return{source:n[e.l.i],target:n[e.r.i]}}))},voronoi.triangles=function(n){var e=[];return d3_geom_voronoi(sites(n)).cells.forEach((function(r,o){for(var i,a,u,l,c=r.site,s=r.edges.sort(d3_geom_voronoiHalfEdgeOrder),d=-1,f=s.length,_=s[f-1].edge,h=_.l===c?_.r:_.l;++d<f;)_,i=h,h=(_=s[d].edge).l===c?_.r:_.l,o<i.i&&o<h.i&&(u=i,l=h,((a=c).x-l.x)*(u.y-a.y)-(a.x-u.x)*(l.y-a.y)<0)&&e.push([n[o],n[i.i],n[h.i]])})),e},voronoi.x=function(n){return arguments.length?(o=d3_functor(e=n),voronoi):e},voronoi.y=function(n){return arguments.length?(i=d3_functor(r=n),voronoi):r},voronoi.clipExtent=function(n){return arguments.length?(a=null==n?tn:n,voronoi):a===tn?null:a},voronoi.size=function(n){return arguments.length?voronoi.clipExtent(n&&[[0,0],n]):a===tn?null:a&&a[1]},voronoi};var tn=[[-1e6,-1e6],[1e6,1e6]];function d3_geom_quadtreeCompatX(n){return n.x}function d3_geom_quadtreeCompatY(n){return n.y}function d3_geom_quadtreeVisit(n,e,r,o,i,a){if(!n(e,r,o,i,a)){var u=.5*(r+i),l=.5*(o+a),c=e.nodes;c[0]&&d3_geom_quadtreeVisit(n,c[0],r,o,u,l),c[1]&&d3_geom_quadtreeVisit(n,c[1],u,o,i,l),c[2]&&d3_geom_quadtreeVisit(n,c[2],r,l,u,a),c[3]&&d3_geom_quadtreeVisit(n,c[3],u,l,i,a)}}function d3_interpolateRgb(n,e){n=a.rgb(n),e=a.rgb(e);var r=n.r,o=n.g,i=n.b,u=e.r-r,l=e.g-o,c=e.b-i;return function(n){return"#"+d3_rgb_hex(Math.round(r+u*n))+d3_rgb_hex(Math.round(o+l*n))+d3_rgb_hex(Math.round(i+c*n))}}function d3_interpolateObject(n,e){var r,o={},i={};for(r in n)r in e?o[r]=d3_interpolate(n[r],e[r]):i[r]=n[r];for(r in e)r in n||(i[r]=e[r]);return function(n){for(r in o)i[r]=o[r](n);return i}}function d3_interpolateNumber(n,e){return e-=n=+n,function(r){return n+e*r}}function d3_interpolateString(n,e){var r,o,i,a,u,l=0,c=[],s=[];for(n+="",e+="",nn.lastIndex=0,o=0;r=nn.exec(e);++o)r.index&&c.push(e.substring(l,r.index)),s.push({i:c.length,x:r[0]}),c.push(null),l=nn.lastIndex;for(l<e.length&&c.push(e.substring(l)),o=0,a=s.length;(r=nn.exec(n))&&o<a;++o)if((u=s[o]).x==r[0]){if(u.i)if(null==c[u.i+1])for(c[u.i-1]+=u.x,c.splice(u.i,1),i=o+1;i<a;++i)s[i].i--;else for(c[u.i-1]+=u.x+c[u.i+1],c.splice(u.i,2),i=o+1;i<a;++i)s[i].i-=2;else if(null==c[u.i+1])c[u.i]=u.x;else for(c[u.i]=u.x+c[u.i+1],c.splice(u.i+1,1),i=o+1;i<a;++i)s[i].i--;s.splice(o,1),a--,o--}else u.x=d3_interpolateNumber(parseFloat(r[0]),parseFloat(u.x));for(;o<a;)u=s.pop(),null==c[u.i+1]?c[u.i]=u.x:(c[u.i]=u.x+c[u.i+1],c.splice(u.i+1,1)),a--;return 1===c.length?null==c[0]?(u=s[0].x,function(n){return u(n)+""}):function(){return e}:function(n){for(o=0;o<a;++o)c[(u=s[o]).i]=u.x(n);return c.join("")}}a.geom.delaunay=function(n){return a.geom.voronoi().triangles(n)},a.geom.quadtree=function(n,e,r,o,i){var a,u=d3_geom_pointX,l=d3_geom_pointY;if(a=arguments.length)return u=d3_geom_quadtreeCompatX,l=d3_geom_quadtreeCompatY,3===a&&(i=r,o=e,r=e=0),quadtree(n);function quadtree(n){var c,s,d,f,_,h,g,p,y,x=d3_functor(u),b=d3_functor(l);if(null!=e)h=e,g=r,p=o,y=i;else if(p=y=-(h=g=1/0),s=[],d=[],_=n.length,a)for(f=0;f<_;++f)(c=n[f]).x<h&&(h=c.x),c.y<g&&(g=c.y),c.x>p&&(p=c.x),c.y>y&&(y=c.y),s.push(c.x),d.push(c.y);else for(f=0;f<_;++f){var M=+x(c=n[f],f),k=+b(c,f);M<h&&(h=M),k<g&&(g=k),M>p&&(p=M),k>y&&(y=k),s.push(M),d.push(k)}var w=p-h,S=y-g;function insert(n,e,r,o,i,a,u,l){if(!isNaN(r)&&!isNaN(o))if(n.leaf){var c=n.x,s=n.y;if(null!=c)if(m(c-r)+m(s-o)<.01)insertChild(n,e,r,o,i,a,u,l);else{var d=n.point;n.x=n.y=n.point=null,insertChild(n,d,c,s,i,a,u,l),insertChild(n,e,r,o,i,a,u,l)}else n.x=r,n.y=o,n.point=e}else insertChild(n,e,r,o,i,a,u,l)}function insertChild(n,e,r,o,i,a,u,l){var c=.5*(i+u),s=.5*(a+l),d=r>=c,f=o>=s,_=(f<<1)+d;n.leaf=!1,d?i=c:u=c,f?a=s:l=s,insert(n=n.nodes[_]||(n.nodes[_]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,r,o,i,a,u,l)}w>S?y=g+w:p=h+S;var E={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(n){insert(E,n,+x(n,++f),+b(n,f),h,g,p,y)},visit:function(n){d3_geom_quadtreeVisit(n,E,h,g,p,y)}};if(f=-1,null==e){for(;++f<_;)insert(E,n[f],s[f],d[f],h,g,p,y);--f}else n.forEach(E.add);return s=d=n=c=null,E}return quadtree.x=function(n){return arguments.length?(u=n,quadtree):u},quadtree.y=function(n){return arguments.length?(l=n,quadtree):l},quadtree.extent=function(n){return arguments.length?(null==n?e=r=o=i=null:(e=+n[0][0],r=+n[0][1],o=+n[1][0],i=+n[1][1]),quadtree):null==e?null:[[e,r],[o,i]]},quadtree.size=function(n){return arguments.length?(null==n?e=r=o=i=null:(e=r=0,o=+n[0],i=+n[1]),quadtree):null==e?null:[o-e,i-r]},quadtree},a.interpolateRgb=d3_interpolateRgb,a.interpolateObject=d3_interpolateObject,a.interpolateNumber=d3_interpolateNumber,a.interpolateString=d3_interpolateString;var nn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;function d3_interpolate(n,e){for(var r,o=a.interpolators.length;--o>=0&&!(r=a.interpolators[o](n,e)););return r}function d3_interpolateArray(n,e){var r,o=[],i=[],a=n.length,u=e.length,l=Math.min(n.length,e.length);for(r=0;r<l;++r)o.push(d3_interpolate(n[r],e[r]));for(;r<a;++r)i[r]=n[r];for(;r<u;++r)i[r]=e[r];return function(n){for(r=0;r<l;++r)i[r]=o[r](n);return i}}a.interpolate=d3_interpolate,a.interpolators=[function(n,e){var r=typeof e;return("string"===r?W.has(e)||/^(#|rgb\(|hsl\()/.test(e)?d3_interpolateRgb:d3_interpolateString:e instanceof d3_Color?d3_interpolateRgb:"object"===r?Array.isArray(e)?d3_interpolateArray:d3_interpolateObject:d3_interpolateNumber)(n,e)}],a.interpolateArray=d3_interpolateArray;var d3_ease_default=function(){return d3_identity},en=a.map({linear:d3_ease_default,poly:function d3_ease_poly(n){return function(e){return Math.pow(e,n)}},quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:function d3_ease_elastic(n,e){var r;arguments.length<2&&(e=.45);arguments.length?r=e/T*Math.asin(1/n):(n=1,r=e/4);return function(o){return 1+n*Math.pow(2,-10*o)*Math.sin((o-r)*T/e)}},back:function d3_ease_back(n){n||(n=1.70158);return function(e){return e*e*((n+1)*e-n)}},bounce:function(){return d3_ease_bounce}}),rn=a.map({in:d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(n){return d3_ease_reflect(d3_ease_reverse(n))}});function d3_ease_clamp(n){return function(e){return e<=0?0:e>=1?1:n(e)}}function d3_ease_reverse(n){return function(e){return 1-n(1-e)}}function d3_ease_reflect(n){return function(e){return.5*(e<.5?n(2*e):2-n(2-2*e))}}function d3_ease_quad(n){return n*n}function d3_ease_cubic(n){return n*n*n}function d3_ease_cubicInOut(n){if(n<=0)return 0;if(n>=1)return 1;var e=n*n,r=e*n;return 4*(n<.5?r:3*(n-e)+r-.75)}function d3_ease_sin(n){return 1-Math.cos(n*q)}function d3_ease_exp(n){return Math.pow(2,10*(n-1))}function d3_ease_circle(n){return 1-Math.sqrt(1-n*n)}function d3_ease_bounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function d3_interpolateRound(n,e){return e-=n,function(r){return Math.round(n+e*r)}}function d3_transform(n){var e=[n.a,n.b],r=[n.c,n.d],o=d3_transformNormalize(e),i=d3_transformDot(e,r),a=d3_transformNormalize(function d3_transformCombine(n,e,r){return n[0]+=r*e[0],n[1]+=r*e[1],n}(r,e,-i))||0;e[0]*r[1]<r[0]*e[1]&&(e[0]*=-1,e[1]*=-1,o*=-1,i*=-1),this.rotate=(o?Math.atan2(e[1],e[0]):Math.atan2(-r[0],r[1]))*B,this.translate=[n.e,n.f],this.scale=[o,a],this.skew=a?Math.atan2(i,a)*B:0}function d3_transformDot(n,e){return n[0]*e[0]+n[1]*e[1]}function d3_transformNormalize(n){var e=Math.sqrt(d3_transformDot(n,n));return e&&(n[0]/=e,n[1]/=e),e}a.ease=function(n){var e=n.indexOf("-"),r=e>=0?n.substring(0,e):n,o=e>=0?n.substring(e+1):"in";return r=en.get(r)||d3_ease_default,d3_ease_clamp((o=rn.get(o)||d3_identity)(r.apply(null,u.call(arguments,1))))},a.interpolateHcl=function d3_interpolateHcl(n,e){n=a.hcl(n),e=a.hcl(e);var r=n.h,o=n.c,i=n.l,u=e.h-r,l=e.c-o,c=e.l-i;isNaN(l)&&(l=0,o=isNaN(o)?e.c:o);isNaN(u)?(u=0,r=isNaN(r)?e.h:r):u>180?u-=360:u<-180&&(u+=360);return function(n){return d3_hcl_lab(r+u*n,o+l*n,i+c*n)+""}},a.interpolateHsl=function d3_interpolateHsl(n,e){n=a.hsl(n),e=a.hsl(e);var r=n.h,o=n.s,i=n.l,u=e.h-r,l=e.s-o,c=e.l-i;isNaN(l)&&(l=0,o=isNaN(o)?e.s:o);isNaN(u)?(u=0,r=isNaN(r)?e.h:r):u>180?u-=360:u<-180&&(u+=360);return function(n){return d3_hsl_rgb(r+u*n,o+l*n,i+c*n)+""}},a.interpolateLab=function d3_interpolateLab(n,e){n=a.lab(n),e=a.lab(e);var r=n.l,o=n.a,i=n.b,u=e.l-r,l=e.a-o,c=e.b-i;return function(n){return d3_lab_rgb(r+u*n,o+l*n,i+c*n)+""}},a.interpolateRound=d3_interpolateRound,a.transform=function(n){var e=l.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(n){if(null!=n){e.setAttribute("transform",n);var r=e.transform.baseVal.consolidate()}return new d3_transform(r?r.matrix:on)})(n)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var on={a:1,b:0,c:0,d:1,e:0,f:0};function d3_interpolateTransform(n,e){var r,o=[],i=[],u=a.transform(n),l=a.transform(e),c=u.translate,s=l.translate,d=u.rotate,f=l.rotate,_=u.skew,h=l.skew,g=u.scale,p=l.scale;return c[0]!=s[0]||c[1]!=s[1]?(o.push("translate(",null,",",null,")"),i.push({i:1,x:d3_interpolateNumber(c[0],s[0])},{i:3,x:d3_interpolateNumber(c[1],s[1])})):s[0]||s[1]?o.push("translate("+s+")"):o.push(""),d!=f?(d-f>180?f+=360:f-d>180&&(d+=360),i.push({i:o.push(o.pop()+"rotate(",null,")")-2,x:d3_interpolateNumber(d,f)})):f&&o.push(o.pop()+"rotate("+f+")"),_!=h?i.push({i:o.push(o.pop()+"skewX(",null,")")-2,x:d3_interpolateNumber(_,h)}):h&&o.push(o.pop()+"skewX("+h+")"),g[0]!=p[0]||g[1]!=p[1]?(r=o.push(o.pop()+"scale(",null,",",null,")"),i.push({i:r-4,x:d3_interpolateNumber(g[0],p[0])},{i:r-2,x:d3_interpolateNumber(g[1],p[1])})):1==p[0]&&1==p[1]||o.push(o.pop()+"scale("+p+")"),r=i.length,function(n){for(var e,a=-1;++a<r;)o[(e=i[a]).i]=e.x(n);return o.join("")}}function d3_uninterpolateNumber(n,e){return e=e-(n=+n)?1/(e-n):0,function(r){return(r-n)*e}}function d3_uninterpolateClamp(n,e){return e=e-(n=+n)?1/(e-n):0,function(r){return Math.max(0,Math.min(1,(r-n)*e))}}function d3_layout_bundlePath(n){for(var e=n.source,r=n.target,o=function d3_layout_bundleLeastCommonAncestor(n,e){if(n===e)return n;var r=d3_layout_bundleAncestors(n),o=d3_layout_bundleAncestors(e),i=r.pop(),a=o.pop(),u=null;for(;i===a;)u=i,i=r.pop(),a=o.pop();return u}(e,r),i=[e];e!==o;)e=e.parent,i.push(e);for(var a=i.length;r!==o;)i.splice(a,0,r),r=r.parent;return i}function d3_layout_bundleAncestors(n){for(var e=[],r=n.parent;null!=r;)e.push(n),n=r,r=r.parent;return e.push(n),e}function d3_layout_forceDragstart(n){n.fixed|=2}function d3_layout_forceDragend(n){n.fixed&=-7}function d3_layout_forceMouseover(n){n.fixed|=4,n.px=n.x,n.py=n.y}function d3_layout_forceMouseout(n){n.fixed&=-5}a.interpolateTransform=d3_interpolateTransform,a.layout={},a.layout.bundle=function(){return function(n){for(var e=[],r=-1,o=n.length;++r<o;)e.push(d3_layout_bundlePath(n[r]));return e}},a.layout.chord=function(){var n,e,r,o,i,u,l,c={},s=0;function relayout(){var c,d,f,_,h,g={},p=[],m=a.range(o),y=[];for(n=[],e=[],c=0,_=-1;++_<o;){for(d=0,h=-1;++h<o;)d+=r[_][h];p.push(d),y.push(a.range(o)),c+=d}for(i&&m.sort((function(n,e){return i(p[n],p[e])})),u&&y.forEach((function(n,e){n.sort((function(n,o){return u(r[e][n],r[e][o])}))})),c=(T-s*o)/c,d=0,_=-1;++_<o;){for(f=d,h=-1;++h<o;){var x=m[_],b=y[x][h],M=r[x][b],k=d,w=d+=M*c;g[x+"-"+b]={index:x,subindex:b,startAngle:k,endAngle:w,value:M}}e[x]={index:x,startAngle:f,endAngle:d,value:(d-f)/c},d+=s}for(_=-1;++_<o;)for(h=_-1;++h<o;){var S=g[_+"-"+h],E=g[h+"-"+_];(S.value||E.value)&&n.push(S.value<E.value?{source:E,target:S}:{source:S,target:E})}l&&resort()}function resort(){n.sort((function(n,e){return l((n.source.value+n.target.value)/2,(e.source.value+e.target.value)/2)}))}return c.matrix=function(i){return arguments.length?(o=(r=i)&&r.length,n=e=null,c):r},c.padding=function(r){return arguments.length?(s=r,n=e=null,c):s},c.sortGroups=function(r){return arguments.length?(i=r,n=e=null,c):i},c.sortSubgroups=function(e){return arguments.length?(u=e,n=null,c):u},c.sortChords=function(e){return arguments.length?(l=e,n&&resort(),c):l},c.chords=function(){return n||relayout(),n},c.groups=function(){return e||relayout(),e},c},a.layout.force=function(){var n,e,r,o,i,u={},l=a.dispatch("start","tick","end"),c=[1,1],s=.9,d=an,f=un,_=-30,h=ln,g=.1,p=.64,m=[],y=[];function repulse(n){return function(e,r,o,i){if(e.point!==n){var a=e.cx-n.x,u=e.cy-n.y,l=i-r,c=a*a+u*u;if(l*l/p<c){if(c<h){var s=e.charge/c;n.px-=a*s,n.py-=u*s}return!0}if(e.point&&c&&c<h){s=e.pointCharge/c;n.px-=a*s,n.py-=u*s}}return!e.charge}}function dragmove(n){n.px=a.event.x,n.py=a.event.y,u.resume()}return u.tick=function(){if((e*=.99)<.005)return l.end({type:"end",alpha:e=0}),!0;var n,u,d,f,h,p,x,b,M,k=m.length,w=y.length;for(u=0;u<w;++u)f=(d=y[u]).source,(p=(b=(h=d.target).x-f.x)*b+(M=h.y-f.y)*M)&&(b*=p=e*o[u]*((p=Math.sqrt(p))-r[u])/p,M*=p,h.x-=b*(x=f.weight/(h.weight+f.weight)),h.y-=M*x,f.x+=b*(x=1-x),f.y+=M*x);if((x=e*g)&&(b=c[0]/2,M=c[1]/2,u=-1,x))for(;++u<k;)(d=m[u]).x+=(b-d.x)*x,d.y+=(M-d.y)*x;if(_)for(!function d3_layout_forceAccumulate(n,e,r){var o=0,i=0;if(n.charge=0,!n.leaf)for(var a,u=n.nodes,l=u.length,c=-1;++c<l;)null!=(a=u[c])&&(d3_layout_forceAccumulate(a,e,r),n.charge+=a.charge,o+=a.charge*a.cx,i+=a.charge*a.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var s=e*r[n.point.index];n.charge+=n.pointCharge=s,o+=s*n.point.x,i+=s*n.point.y}n.cx=o/n.charge,n.cy=i/n.charge}(n=a.geom.quadtree(m),e,i),u=-1;++u<k;)(d=m[u]).fixed||n.visit(repulse(d));for(u=-1;++u<k;)(d=m[u]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*s,d.y-=(d.py-(d.py=d.y))*s);l.tick({type:"tick",alpha:e})},u.nodes=function(n){return arguments.length?(m=n,u):m},u.links=function(n){return arguments.length?(y=n,u):y},u.size=function(n){return arguments.length?(c=n,u):c},u.linkDistance=function(n){return arguments.length?(d="function"==typeof n?n:+n,u):d},u.distance=u.linkDistance,u.linkStrength=function(n){return arguments.length?(f="function"==typeof n?n:+n,u):f},u.friction=function(n){return arguments.length?(s=+n,u):s},u.charge=function(n){return arguments.length?(_="function"==typeof n?n:+n,u):_},u.chargeDistance=function(n){return arguments.length?(h=n*n,u):Math.sqrt(h)},u.gravity=function(n){return arguments.length?(g=+n,u):g},u.theta=function(n){return arguments.length?(p=n*n,u):Math.sqrt(p)},u.alpha=function(n){return arguments.length?(n=+n,e?e=n>0?n:0:n>0&&(l.start({type:"start",alpha:e=n}),a.timer(u.tick)),u):e},u.start=function(){var n,e,a,l=m.length,s=y.length,h=c[0],g=c[1];for(n=0;n<l;++n)(a=m[n]).index=n,a.weight=0;for(n=0;n<s;++n)"number"==typeof(a=y[n]).source&&(a.source=m[a.source]),"number"==typeof a.target&&(a.target=m[a.target]),++a.source.weight,++a.target.weight;for(n=0;n<l;++n)a=m[n],isNaN(a.x)&&(a.x=position("x",h)),isNaN(a.y)&&(a.y=position("y",g)),isNaN(a.px)&&(a.px=a.x),isNaN(a.py)&&(a.py=a.y);if(r=[],"function"==typeof d)for(n=0;n<s;++n)r[n]=+d.call(this,y[n],n);else for(n=0;n<s;++n)r[n]=d;if(o=[],"function"==typeof f)for(n=0;n<s;++n)o[n]=+f.call(this,y[n],n);else for(n=0;n<s;++n)o[n]=f;if(i=[],"function"==typeof _)for(n=0;n<l;++n)i[n]=+_.call(this,m[n],n);else for(n=0;n<l;++n)i[n]=_;function position(r,o){if(!e){for(e=new Array(l),c=0;c<l;++c)e[c]=[];for(c=0;c<s;++c){var i=y[c];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var a,u=e[n],c=-1,s=u.length;++c<s;)if(!isNaN(a=u[c][r]))return a;return Math.random()*o}return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){if(n||(n=a.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),!arguments.length)return n;this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(n)},a.rebind(u,l,"on")};var an=20,un=1,ln=1/0;function d3_layout_hierarchyRebind(n,e){return a.rebind(n,e,"sort","children","value"),n.nodes=n,n.links=d3_layout_hierarchyLinks,n}function d3_layout_hierarchyChildren(n){return n.children}function d3_layout_hierarchyValue(n){return n.value}function d3_layout_hierarchySort(n,e){return e.value-n.value}function d3_layout_hierarchyLinks(n){return a.merge(n.map((function(n){return(n.children||[]).map((function(e){return{source:n,target:e}}))})))}a.layout.hierarchy=function(){var n=d3_layout_hierarchySort,e=d3_layout_hierarchyChildren,r=d3_layout_hierarchyValue;function hierarchy(o){var i=[];return function recurse(o,i,a){var u=e.call(hierarchy,o,i);if(o.depth=i,a.push(o),u&&(l=u.length)){for(var l,c,s=-1,d=o.children=new Array(l),f=0,_=i+1;++s<l;)(c=d[s]=recurse(u[s],_,a)).parent=o,f+=c.value;n&&d.sort(n),r&&(o.value=f)}else delete o.children,r&&(o.value=+r.call(hierarchy,o,i)||0);return o}(o,0,i),i}return hierarchy.sort=function(e){return arguments.length?(n=e,hierarchy):n},hierarchy.children=function(n){return arguments.length?(e=n,hierarchy):e},hierarchy.value=function(n){return arguments.length?(r=n,hierarchy):r},hierarchy.revalue=function(n){return function revalue(n,e){var o=n.children,i=0;if(o&&(a=o.length))for(var a,u=-1,l=e+1;++u<a;)i+=revalue(o[u],l);else r&&(i=+r.call(hierarchy,n,e)||0);return r&&(n.value=i),i}(n,0),n},hierarchy},a.layout.partition=function(){var n=a.layout.hierarchy(),e=[1,1];function partition(r,o){var i=n.call(this,r,o);return function position(n,e,r,o){var i=n.children;if(n.x=e,n.y=n.depth*o,n.dx=r,n.dy=o,i&&(a=i.length)){var a,u,l,c=-1;for(r=n.value?r/n.value:0;++c<a;)position(u=i[c],e,l=u.value*r,o),e+=l}}(i[0],0,e[0],e[1]/function depth(n){var e=n.children,r=0;if(e&&(o=e.length))for(var o,i=-1;++i<o;)r=Math.max(r,depth(e[i]));return 1+r}(i[0])),i}return partition.size=function(n){return arguments.length?(e=n,partition):e},d3_layout_hierarchyRebind(partition,n)},a.layout.pie=function(){var n=Number,e=cn,r=0,o=T;function pie(i){var u=i.map((function(e,r){return+n.call(pie,e,r)})),l=+("function"==typeof r?r.apply(this,arguments):r),c=(("function"==typeof o?o.apply(this,arguments):o)-l)/a.sum(u),s=a.range(i.length);null!=e&&s.sort(e===cn?function(n,e){return u[e]-u[n]}:function(n,r){return e(i[n],i[r])});var d=[];return s.forEach((function(n){var e;d[n]={data:i[n],value:e=u[n],startAngle:l,endAngle:l+=e*c}})),d}return pie.value=function(e){return arguments.length?(n=e,pie):n},pie.sort=function(n){return arguments.length?(e=n,pie):e},pie.startAngle=function(n){return arguments.length?(r=n,pie):r},pie.endAngle=function(n){return arguments.length?(o=n,pie):o},pie};var cn={};function d3_layout_stackX(n){return n.x}function d3_layout_stackY(n){return n.y}function d3_layout_stackOut(n,e,r){n.y0=e,n.y=r}a.layout.stack=function(){var n=d3_identity,e=d3_layout_stackOrderDefault,r=d3_layout_stackOffsetZero,o=d3_layout_stackOut,i=d3_layout_stackX,u=d3_layout_stackY;function stack(l,c){var s=l.map((function(e,r){return n.call(stack,e,r)})),d=s.map((function(n){return n.map((function(n,e){return[i.call(stack,n,e),u.call(stack,n,e)]}))})),f=e.call(stack,d,c);s=a.permute(s,f),d=a.permute(d,f);var _,h,g,p=r.call(stack,d,c),m=s.length,y=s[0].length;for(h=0;h<y;++h)for(o.call(stack,s[0][h],g=p[h],d[0][h][1]),_=1;_<m;++_)o.call(stack,s[_][h],g+=d[_-1][h][1],d[_][h][1]);return l}return stack.values=function(e){return arguments.length?(n=e,stack):n},stack.order=function(n){return arguments.length?(e="function"==typeof n?n:sn.get(n)||d3_layout_stackOrderDefault,stack):e},stack.offset=function(n){return arguments.length?(r="function"==typeof n?n:dn.get(n)||d3_layout_stackOffsetZero,stack):r},stack.x=function(n){return arguments.length?(i=n,stack):i},stack.y=function(n){return arguments.length?(u=n,stack):u},stack.out=function(n){return arguments.length?(o=n,stack):o},stack};var sn=a.map({"inside-out":function(n){var e,r,o=n.length,i=n.map(d3_layout_stackMaxIndex),u=n.map(d3_layout_stackReduceSum),l=a.range(o).sort((function(n,e){return i[n]-i[e]})),c=0,s=0,d=[],f=[];for(e=0;e<o;++e)r=l[e],c<s?(c+=u[r],d.push(r)):(s+=u[r],f.push(r));return f.reverse().concat(d)},reverse:function(n){return a.range(n.length).reverse()},default:d3_layout_stackOrderDefault}),dn=a.map({silhouette:function(n){var e,r,o,i=n.length,a=n[0].length,u=[],l=0,c=[];for(r=0;r<a;++r){for(e=0,o=0;e<i;e++)o+=n[e][r][1];o>l&&(l=o),u.push(o)}for(r=0;r<a;++r)c[r]=(l-u[r])/2;return c},wiggle:function(n){var e,r,o,i,a,u,l,c,s,d=n.length,f=n[0],_=f.length,h=[];for(h[0]=c=s=0,r=1;r<_;++r){for(e=0,i=0;e<d;++e)i+=n[e][r][1];for(e=0,a=0,l=f[r][0]-f[r-1][0];e<d;++e){for(o=0,u=(n[e][r][1]-n[e][r-1][1])/(2*l);o<e;++o)u+=(n[o][r][1]-n[o][r-1][1])/l;a+=u*n[e][r][1]}h[r]=c-=i?a/i*l:0,c<s&&(s=c)}for(r=0;r<_;++r)h[r]-=s;return h},expand:function(n){var e,r,o,i=n.length,a=n[0].length,u=1/i,l=[];for(r=0;r<a;++r){for(e=0,o=0;e<i;e++)o+=n[e][r][1];if(o)for(e=0;e<i;e++)n[e][r][1]/=o;else for(e=0;e<i;e++)n[e][r][1]=u}for(r=0;r<a;++r)l[r]=0;return l},zero:d3_layout_stackOffsetZero});function d3_layout_stackOrderDefault(n){return a.range(n.length)}function d3_layout_stackOffsetZero(n){for(var e=-1,r=n[0].length,o=[];++e<r;)o[e]=0;return o}function d3_layout_stackMaxIndex(n){for(var e,r=1,o=0,i=n[0][1],a=n.length;r<a;++r)(e=n[r][1])>i&&(o=r,i=e);return o}function d3_layout_stackReduceSum(n){return n.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(n,e){return n+e[1]}function d3_layout_histogramBinSturges(n,e){return d3_layout_histogramBinFixed(n,Math.ceil(Math.log(e.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(n,e){for(var r=-1,o=+n[0],i=(n[1]-o)/e,a=[];++r<=e;)a[r]=i*r+o;return a}function d3_layout_histogramRange(n){return[a.min(n),a.max(n)]}function d3_layout_treeSeparation(n,e){return n.parent==e.parent?1:2}function d3_layout_treeLeft(n){var e=n.children;return e&&e.length?e[0]:n._tree.thread}function d3_layout_treeRight(n){var e,r=n.children;return r&&(e=r.length)?r[e-1]:n._tree.thread}function d3_layout_treeSearch(n,e){var r=n.children;if(r&&(i=r.length))for(var o,i,a=-1;++a<i;)e(o=d3_layout_treeSearch(r[a],e),n)>0&&(n=o);return n}function d3_layout_treeRightmost(n,e){return n.x-e.x}function d3_layout_treeLeftmost(n,e){return e.x-n.x}function d3_layout_treeDeepest(n,e){return n.depth-e.depth}function d3_layout_treeVisitAfter(n,e){!function visit(n,r){var o=n.children;if(o&&(a=o.length))for(var i,a,u=null,l=-1;++l<a;)visit(i=o[l],u),u=i;e(n,r)}(n,null)}function d3_layout_treeMove(n,e,r){n=n._tree;var o=r/((e=e._tree).number-n.number);n.change+=o,e.change-=o,e.shift+=r,e.prelim+=r,e.mod+=r}function d3_layout_treeAncestor(n,e,r){return n._tree.ancestor.parent==e.parent?n._tree.ancestor:r}function d3_layout_packSort(n,e){return n.value-e.value}function d3_layout_packInsert(n,e){var r=n._pack_next;n._pack_next=e,e._pack_prev=n,e._pack_next=r,r._pack_prev=e}function d3_layout_packSplice(n,e){n._pack_next=e,e._pack_prev=n}function d3_layout_packIntersects(n,e){var r=e.x-n.x,o=e.y-n.y,i=n.r+e.r;return.999*i*i>r*r+o*o}function d3_layout_packSiblings(n){if((e=n.children)&&(c=e.length)){var e,r,o,i,a,u,l,c,s=1/0,d=-1/0,f=1/0,_=-1/0;if(e.forEach(d3_layout_packLink),(r=e[0]).x=-r.r,r.y=0,bound(r),c>1&&((o=e[1]).x=o.r,o.y=0,bound(o),c>2))for(d3_layout_packPlace(r,o,i=e[2]),bound(i),d3_layout_packInsert(r,i),r._pack_prev=i,d3_layout_packInsert(i,o),o=r._pack_next,a=3;a<c;a++){d3_layout_packPlace(r,o,i=e[a]);var h=0,g=1,p=1;for(u=o._pack_next;u!==o;u=u._pack_next,g++)if(d3_layout_packIntersects(u,i)){h=1;break}if(1==h)for(l=r._pack_prev;l!==u._pack_prev&&!d3_layout_packIntersects(l,i);l=l._pack_prev,p++);h?(g<p||g==p&&o.r<r.r?d3_layout_packSplice(r,o=u):d3_layout_packSplice(r=l,o),a--):(d3_layout_packInsert(r,i),o=i,bound(i))}var m=(s+d)/2,y=(f+_)/2,x=0;for(a=0;a<c;a++)(i=e[a]).x-=m,i.y-=y,x=Math.max(x,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=x,e.forEach(d3_layout_packUnlink)}function bound(n){s=Math.min(n.x-n.r,s),d=Math.max(n.x+n.r,d),f=Math.min(n.y-n.r,f),_=Math.max(n.y+n.r,_)}}function d3_layout_packLink(n){n._pack_next=n._pack_prev=n}function d3_layout_packUnlink(n){delete n._pack_next,delete n._pack_prev}function d3_layout_packPlace(n,e,r){var o=n.r+r.r,i=e.x-n.x,a=e.y-n.y;if(o&&(i||a)){var u=e.r+r.r,l=i*i+a*a,c=.5+((o*=o)-(u*=u))/(2*l),s=Math.sqrt(Math.max(0,2*u*(o+l)-(o-=l)*o-u*u))/(2*l);r.x=n.x+c*i+s*a,r.y=n.y+c*a-s*i}else r.x=n.x+o,r.y=n.y}function d3_layout_treemapPadNull(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function d3_layout_treemapPad(n,e){var r=n.x+e[3],o=n.y+e[0],i=n.dx-e[1]-e[3],a=n.dy-e[0]-e[2];return i<0&&(r+=i/2,i=0),a<0&&(o+=a/2,a=0),{x:r,y:o,dx:i,dy:a}}function d3_scaleExtent(n){var e=n[0],r=n[n.length-1];return e<r?[e,r]:[r,e]}function d3_scaleRange(n){return n.rangeExtent?n.rangeExtent():d3_scaleExtent(n.range())}function d3_scale_bilinear(n,e,r,o){var i=r(n[0],n[1]),a=o(e[0],e[1]);return function(n){return a(i(n))}}function d3_scale_nice(n,e){var r,o=0,i=n.length-1,a=n[o],u=n[i];return u<a&&(r=o,o=i,i=r,r=a,a=u,u=r),n[o]=e.floor(a),n[i]=e.ceil(u),n}a.layout.histogram=function(){var n=!0,e=Number,r=d3_layout_histogramRange,o=d3_layout_histogramBinSturges;function histogram(i,u){for(var l,c,s=[],d=i.map(e,this),f=r.call(this,d,u),_=o.call(this,f,d,u),h=(u=-1,d.length),g=_.length-1,p=n?1:1/h;++u<g;)(l=s[u]=[]).dx=_[u+1]-(l.x=_[u]),l.y=0;if(g>0)for(u=-1;++u<h;)(c=d[u])>=f[0]&&c<=f[1]&&((l=s[a.bisect(_,c,1,g)-1]).y+=p,l.push(i[u]));return s}return histogram.value=function(n){return arguments.length?(e=n,histogram):e},histogram.range=function(n){return arguments.length?(r=d3_functor(n),histogram):r},histogram.bins=function(n){return arguments.length?(o="number"==typeof n?function(e){return d3_layout_histogramBinFixed(e,n)}:d3_functor(n),histogram):o},histogram.frequency=function(e){return arguments.length?(n=!!e,histogram):n},histogram},a.layout.tree=function(){var n=a.layout.hierarchy().sort(null).value(null),e=d3_layout_treeSeparation,r=[1,1],o=!1;function tree(i,a){var u=n.call(this,i,a),l=u[0];function apportion(n,r,o){if(r){for(var i,a=n,u=n,l=r,c=n.parent.children[0],s=a._tree.mod,d=u._tree.mod,f=l._tree.mod,_=c._tree.mod;l=d3_layout_treeRight(l),a=d3_layout_treeLeft(a),l&&a;)c=d3_layout_treeLeft(c),(u=d3_layout_treeRight(u))._tree.ancestor=n,(i=l._tree.prelim+f-a._tree.prelim-s+e(l,a))>0&&(d3_layout_treeMove(d3_layout_treeAncestor(l,n,o),n,i),s+=i,d+=i),f+=l._tree.mod,s+=a._tree.mod,_+=c._tree.mod,d+=u._tree.mod;l&&!d3_layout_treeRight(u)&&(u._tree.thread=l,u._tree.mod+=f-d),a&&!d3_layout_treeLeft(c)&&(c._tree.thread=a,c._tree.mod+=s-_,o=n)}return o}d3_layout_treeVisitAfter(l,(function(n,e){n._tree={ancestor:n,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}})),function firstWalk(n,r){var o=n.children,i=n._tree;if(o&&(a=o.length)){for(var a,u,l,c=o[0],s=c,d=-1;++d<a;)firstWalk(l=o[d],u),s=apportion(l,u,s),u=l;!function d3_layout_treeShift(n){var e,r=0,o=0,i=n.children,a=i.length;for(;--a>=0;)(e=i[a]._tree).prelim+=r,e.mod+=r,r+=e.shift+(o+=e.change)}(n);var f=.5*(c._tree.prelim+l._tree.prelim);r?(i.prelim=r._tree.prelim+e(n,r),i.mod=i.prelim-f):i.prelim=f}else r&&(i.prelim=r._tree.prelim+e(n,r))}(l),function secondWalk(n,e){n.x=n._tree.prelim+e;var r=n.children;if(r&&(o=r.length)){var o,i=-1;for(e+=n._tree.mod;++i<o;)secondWalk(r[i],e)}}(l,-l._tree.prelim);var c=d3_layout_treeSearch(l,d3_layout_treeLeftmost),s=d3_layout_treeSearch(l,d3_layout_treeRightmost),d=d3_layout_treeSearch(l,d3_layout_treeDeepest),f=c.x-e(c,s)/2,_=s.x+e(s,c)/2,h=d.depth||1;return d3_layout_treeVisitAfter(l,o?function(n){n.x*=r[0],n.y=n.depth*r[1],delete n._tree}:function(n){n.x=(n.x-f)/(_-f)*r[0],n.y=n.depth/h*r[1],delete n._tree}),u}return tree.separation=function(n){return arguments.length?(e=n,tree):e},tree.size=function(n){return arguments.length?(o=null==(r=n),tree):o?null:r},tree.nodeSize=function(n){return arguments.length?(o=null!=(r=n),tree):o?r:null},d3_layout_hierarchyRebind(tree,n)},a.layout.pack=function(){var n,e=a.layout.hierarchy().sort(d3_layout_packSort),r=0,o=[1,1];function pack(i,a){var u=e.call(this,i,a),l=u[0],c=o[0],s=o[1],d=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(l.x=l.y=0,d3_layout_treeVisitAfter(l,(function(n){n.r=+d(n.value)})),d3_layout_treeVisitAfter(l,d3_layout_packSiblings),r){var f=r*(n?1:Math.max(2*l.r/c,2*l.r/s))/2;d3_layout_treeVisitAfter(l,(function(n){n.r+=f})),d3_layout_treeVisitAfter(l,d3_layout_packSiblings),d3_layout_treeVisitAfter(l,(function(n){n.r-=f}))}return function d3_layout_packTransform(n,e,r,o){var i=n.children;if(n.x=e+=o*n.x,n.y=r+=o*n.y,n.r*=o,i)for(var a=-1,u=i.length;++a<u;)d3_layout_packTransform(i[a],e,r,o)}(l,c/2,s/2,n?1:1/Math.max(2*l.r/c,2*l.r/s)),u}return pack.size=function(n){return arguments.length?(o=n,pack):o},pack.radius=function(e){return arguments.length?(n=null==e||"function"==typeof e?e:+e,pack):n},pack.padding=function(n){return arguments.length?(r=+n,pack):r},d3_layout_hierarchyRebind(pack,e)},a.layout.cluster=function(){var n=a.layout.hierarchy().sort(null).value(null),e=d3_layout_treeSeparation,r=[1,1],o=!1;function cluster(i,u){var l,c=n.call(this,i,u),s=c[0],d=0;d3_layout_treeVisitAfter(s,(function(n){var r=n.children;r&&r.length?(n.x=function d3_layout_clusterX(n){return n.reduce((function(n,e){return n+e.x}),0)/n.length}(r),n.y=function d3_layout_clusterY(n){return 1+a.max(n,(function(n){return n.y}))}(r)):(n.x=l?d+=e(n,l):0,n.y=0,l=n)}));var f=function d3_layout_clusterLeft(n){var e=n.children;return e&&e.length?d3_layout_clusterLeft(e[0]):n}(s),_=function d3_layout_clusterRight(n){var e,r=n.children;return r&&(e=r.length)?d3_layout_clusterRight(r[e-1]):n}(s),h=f.x-e(f,_)/2,g=_.x+e(_,f)/2;return d3_layout_treeVisitAfter(s,o?function(n){n.x=(n.x-s.x)*r[0],n.y=(s.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(s.y?n.y/s.y:1))*r[1]}),c}return cluster.separation=function(n){return arguments.length?(e=n,cluster):e},cluster.size=function(n){return arguments.length?(o=null==(r=n),cluster):o?null:r},cluster.nodeSize=function(n){return arguments.length?(o=null!=(r=n),cluster):o?r:null},d3_layout_hierarchyRebind(cluster,n)},a.layout.treemap=function(){var n,e=a.layout.hierarchy(),r=Math.round,o=[1,1],i=null,u=d3_layout_treemapPadNull,l=!1,c="squarify",s=.5*(1+Math.sqrt(5));function scale(n,e){for(var r,o,i=-1,a=n.length;++i<a;)o=(r=n[i]).value*(e<0?0:e),r.area=isNaN(o)||o<=0?0:o}function squarify(n){var e=n.children;if(e&&e.length){var r,o,i,a=u(n),l=[],s=e.slice(),d=1/0,f="slice"===c?a.dx:"dice"===c?a.dy:"slice-dice"===c?1&n.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(scale(s,a.dx*a.dy/n.value),l.area=0;(i=s.length)>0;)l.push(r=s[i-1]),l.area+=r.area,"squarify"!==c||(o=worst(l,f))<=d?(s.pop(),d=o):(l.area-=l.pop().area,position(l,f,a,!1),f=Math.min(a.dx,a.dy),l.length=l.area=0,d=1/0);l.length&&(position(l,f,a,!0),l.length=l.area=0),e.forEach(squarify)}}function stickify(n){var e=n.children;if(e&&e.length){var r,o=u(n),i=e.slice(),a=[];for(scale(i,o.dx*o.dy/n.value),a.area=0;r=i.pop();)a.push(r),a.area+=r.area,null!=r.z&&(position(a,r.z?o.dx:o.dy,o,!i.length),a.length=a.area=0);e.forEach(stickify)}}function worst(n,e){for(var r,o=n.area,i=0,a=1/0,u=-1,l=n.length;++u<l;)(r=n[u].area)&&(r<a&&(a=r),r>i&&(i=r));return e*=e,(o*=o)?Math.max(e*i*s/o,o/(e*a*s)):1/0}function position(n,e,o,i){var a,u=-1,l=n.length,c=o.x,s=o.y,d=e?r(n.area/e):0;if(e==o.dx){for((i||d>o.dy)&&(d=o.dy);++u<l;)(a=n[u]).x=c,a.y=s,a.dy=d,c+=a.dx=Math.min(o.x+o.dx-c,d?r(a.area/d):0);a.z=!0,a.dx+=o.x+o.dx-c,o.y+=d,o.dy-=d}else{for((i||d>o.dx)&&(d=o.dx);++u<l;)(a=n[u]).x=c,a.y=s,a.dx=d,s+=a.dy=Math.min(o.y+o.dy-s,d?r(a.area/d):0);a.z=!1,a.dy+=o.y+o.dy-s,o.x+=d,o.dx-=d}}function treemap(r){var i=n||e(r),a=i[0];return a.x=0,a.y=0,a.dx=o[0],a.dy=o[1],n&&e.revalue(a),scale([a],a.dx*a.dy/a.value),(n?stickify:squarify)(a),l&&(n=i),i}return treemap.size=function(n){return arguments.length?(o=n,treemap):o},treemap.padding=function(n){if(!arguments.length)return i;function padFunction(e){var r=n.call(treemap,e,e.depth);return null==r?d3_layout_treemapPadNull(e):d3_layout_treemapPad(e,"number"==typeof r?[r,r,r,r]:r)}function padConstant(e){return d3_layout_treemapPad(e,n)}var e;return u=null==(i=n)?d3_layout_treemapPadNull:"function"==(e=typeof n)?padFunction:"number"===e?(n=[n,n,n,n],padConstant):padConstant,treemap},treemap.round=function(n){return arguments.length?(r=n?Math.round:Number,treemap):r!=Number},treemap.sticky=function(e){return arguments.length?(l=e,n=null,treemap):l},treemap.ratio=function(n){return arguments.length?(s=n,treemap):s},treemap.mode=function(n){return arguments.length?(c=n+"",treemap):c},d3_layout_hierarchyRebind(treemap,e)},a.random={normal:function(n,e){var r=arguments.length;return r<2&&(e=1),r<1&&(n=0),function(){var r,o,i;do{i=(r=2*Math.random()-1)*r+(o=2*Math.random()-1)*o}while(!i||i>1);return n+e*r*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var n=a.random.normal.apply(a,arguments);return function(){return Math.exp(n())}},bates:function(n){var e=a.random.irwinHall(n);return function(){return e()/n}},irwinHall:function(n){return function(){for(var e=0,r=0;r<n;r++)e+=Math.random();return e}}},a.scale={};var fn={floor:d3_identity,ceil:d3_identity};function d3_scale_polylinear(n,e,r,o){var i=[],u=[],l=0,c=Math.min(n.length,e.length)-1;for(n[c]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++l<=c;)i.push(r(n[l-1],n[l])),u.push(o(e[l-1],e[l]));return function(e){var r=a.bisect(n,e,1,c)-1;return u[r](i[r](e))}}function d3_scale_linearRebind(n,e){return a.rebind(n,e,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(n,e){return d3_scale_nice(n,function d3_scale_niceStep(n){return n?{floor:function(e){return Math.floor(e/n)*n},ceil:function(e){return Math.ceil(e/n)*n}}:fn}(d3_scale_linearTickRange(n,e)[2]))}function d3_scale_linearTickRange(n,e){null==e&&(e=10);var r=d3_scaleExtent(n),o=r[1]-r[0],i=Math.pow(10,Math.floor(Math.log(o/e)/Math.LN10)),a=e/o*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),r[0]=Math.ceil(r[0]/i)*i,r[1]=Math.floor(r[1]/i)*i+.5*i,r[2]=i,r}function d3_scale_linearTicks(n,e){return a.range.apply(a,d3_scale_linearTickRange(n,e))}function d3_scale_linearTickFormat(n,e,r){var o=d3_scale_linearTickRange(n,e);return a.format(r?r.replace(et,(function(n,e,r,i,a,u,l,c,s,d){return[e,r,i,a,u,l,c,s||"."+d3_scale_linearFormatPrecision(d,o),d].join("")})):",."+d3_scale_linearPrecision(o[2])+"f")}a.scale.linear=function(){return function d3_scale_linear(n,e,r,o){var i,a;function rescale(){var u=Math.min(n.length,e.length)>2?d3_scale_polylinear:d3_scale_bilinear,l=o?d3_uninterpolateClamp:d3_uninterpolateNumber;return i=u(n,e,l,r),a=u(e,n,l,d3_interpolate),scale}function scale(n){return i(n)}return scale.invert=function(n){return a(n)},scale.domain=function(e){return arguments.length?(n=e.map(Number),rescale()):n},scale.range=function(n){return arguments.length?(e=n,rescale()):e},scale.rangeRound=function(n){return scale.range(n).interpolate(d3_interpolateRound)},scale.clamp=function(n){return arguments.length?(o=n,rescale()):o},scale.interpolate=function(n){return arguments.length?(r=n,rescale()):r},scale.ticks=function(e){return d3_scale_linearTicks(n,e)},scale.tickFormat=function(e,r){return d3_scale_linearTickFormat(n,e,r)},scale.nice=function(e){return d3_scale_linearNice(n,e),rescale()},scale.copy=function(){return d3_scale_linear(n,e,r,o)},rescale()}([0,1],[0,1],d3_interpolate,!1)};var _n={s:1,g:1,p:1,r:1,e:1};function d3_scale_linearPrecision(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(n,e){var r=d3_scale_linearPrecision(e[2]);return n in _n?Math.abs(r-d3_scale_linearPrecision(Math.max(Math.abs(e[0]),Math.abs(e[1]))))+ +("e"!==n):r-2*("%"===n)}a.scale.log=function(){return function d3_scale_log(n,e,r,o){function log(n){return(r?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(e)}function pow(n){return r?Math.pow(e,n):-Math.pow(e,-n)}function scale(e){return n(log(e))}return scale.invert=function(e){return pow(n.invert(e))},scale.domain=function(e){return arguments.length?(r=e[0]>=0,n.domain((o=e.map(Number)).map(log)),scale):o},scale.base=function(r){return arguments.length?(e=+r,n.domain(o.map(log)),scale):e},scale.nice=function(){var e=d3_scale_nice(o.map(log),r?Math:gn);return n.domain(e),o=e.map(pow),scale},scale.ticks=function(){var n=d3_scaleExtent(o),i=[],a=n[0],u=n[1],l=Math.floor(log(a)),c=Math.ceil(log(u)),s=e%1?2:e;if(isFinite(c-l)){if(r){for(;l<c;l++)for(var d=1;d<s;d++)i.push(pow(l)*d);i.push(pow(l))}else for(i.push(pow(l));l++<c;)for(d=s-1;d>0;d--)i.push(pow(l)*d);for(l=0;i[l]<a;l++);for(c=i.length;i[c-1]>u;c--);i=i.slice(l,c)}return i},scale.tickFormat=function(n,e){if(!arguments.length)return hn;arguments.length<2?e=hn:"function"!=typeof e&&(e=a.format(e));var o,i=Math.max(.1,n/scale.ticks().length),u=r?(o=1e-12,Math.ceil):(o=-1e-12,Math.floor);return function(n){return n/pow(u(log(n)+o))<=i?e(n):""}},scale.copy=function(){return d3_scale_log(n.copy(),e,r,o)},d3_scale_linearRebind(scale,n)}(a.scale.linear().domain([0,1]),10,!0,[1,10])};var hn=a.format(".0e"),gn={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};function d3_scale_powPow(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}a.scale.pow=function(){return function d3_scale_pow(n,e,r){var o=d3_scale_powPow(e),i=d3_scale_powPow(1/e);function scale(e){return n(o(e))}return scale.invert=function(e){return i(n.invert(e))},scale.domain=function(e){return arguments.length?(n.domain((r=e.map(Number)).map(o)),scale):r},scale.ticks=function(n){return d3_scale_linearTicks(r,n)},scale.tickFormat=function(n,e){return d3_scale_linearTickFormat(r,n,e)},scale.nice=function(n){return scale.domain(d3_scale_linearNice(r,n))},scale.exponent=function(a){return arguments.length?(o=d3_scale_powPow(e=a),i=d3_scale_powPow(1/e),n.domain(r.map(o)),scale):e},scale.copy=function(){return d3_scale_pow(n.copy(),e,r)},d3_scale_linearRebind(scale,n)}(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return function d3_scale_ordinal(n,e){var r,o,i;function scale(i){return o[((r.get(i)||"range"===e.t&&r.set(i,n.push(i)))-1)%o.length]}function steps(e,r){return a.range(n.length).map((function(n){return e+r*n}))}return scale.domain=function(o){if(!arguments.length)return n;n=[],r=new d3_Map;for(var i,a=-1,u=o.length;++a<u;)r.has(i=o[a])||r.set(i,n.push(i));return scale[e.t].apply(scale,e.a)},scale.range=function(n){return arguments.length?(o=n,i=0,e={t:"range",a:arguments},scale):o},scale.rangePoints=function(r,a){arguments.length<2&&(a=0);var u=r[0],l=r[1],c=(l-u)/(Math.max(1,n.length-1)+a);return o=steps(n.length<2?(u+l)/2:u+c*a/2,c),i=0,e={t:"rangePoints",a:arguments},scale},scale.rangeBands=function(r,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=r[1]<r[0],c=r[l-0],s=r[1-l],d=(s-c)/(n.length-a+2*u);return o=steps(c+d*u,d),l&&o.reverse(),i=d*(1-a),e={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(r,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=r[1]<r[0],c=r[l-0],s=r[1-l],d=Math.floor((s-c)/(n.length-a+2*u)),f=s-c-(n.length-a)*d;return o=steps(c+Math.round(f/2),d),l&&o.reverse(),i=Math.round(d*(1-a)),e={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return i},scale.rangeExtent=function(){return d3_scaleExtent(e.a[0])},scale.copy=function(){return d3_scale_ordinal(n,e)},scale.domain(n)}([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(pn)},a.scale.category20=function(){return a.scale.ordinal().range(vn)},a.scale.category20b=function(){return a.scale.ordinal().range(mn)},a.scale.category20c=function(){return a.scale.ordinal().range(yn)};var pn=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),vn=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),mn=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),yn=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);a.scale.quantile=function(){return function d3_scale_quantile(n,e){var r;function rescale(){var o=0,i=e.length;for(r=[];++o<i;)r[o-1]=a.quantile(n,o/i);return scale}function scale(n){if(!isNaN(n=+n))return e[a.bisect(r,n)]}return scale.domain=function(e){return arguments.length?(n=e.filter((function(n){return!isNaN(n)})).sort(a.ascending),rescale()):n},scale.range=function(n){return arguments.length?(e=n,rescale()):e},scale.quantiles=function(){return r},scale.invertExtent=function(o){return(o=e.indexOf(o))<0?[NaN,NaN]:[o>0?r[o-1]:n[0],o<r.length?r[o]:n[n.length-1]]},scale.copy=function(){return d3_scale_quantile(n,e)},rescale()}([],[])},a.scale.quantize=function(){return function d3_scale_quantize(n,e,r){var o,i;function scale(e){return r[Math.max(0,Math.min(i,Math.floor(o*(e-n))))]}function rescale(){return o=r.length/(e-n),i=r.length-1,scale}return scale.domain=function(r){return arguments.length?(n=+r[0],e=+r[r.length-1],rescale()):[n,e]},scale.range=function(n){return arguments.length?(r=n,rescale()):r},scale.invertExtent=function(e){return[e=(e=r.indexOf(e))<0?NaN:e/o+n,e+1/o]},scale.copy=function(){return d3_scale_quantize(n,e,r)},rescale()}(0,1,[0,1])},a.scale.threshold=function(){return function d3_scale_threshold(n,e){function scale(r){if(r<=r)return e[a.bisect(n,r)]}return scale.domain=function(e){return arguments.length?(n=e,scale):n},scale.range=function(n){return arguments.length?(e=n,scale):e},scale.invertExtent=function(r){return r=e.indexOf(r),[n[r-1],n[r]]},scale.copy=function(){return d3_scale_threshold(n,e)},scale}([.5],[0,1])},a.scale.identity=function(){return function d3_scale_identity(n){function identity(n){return+n}return identity.invert=identity,identity.domain=identity.range=function(e){return arguments.length?(n=e.map(identity),identity):n},identity.ticks=function(e){return d3_scale_linearTicks(n,e)},identity.tickFormat=function(e,r){return d3_scale_linearTickFormat(n,e,r)},identity.copy=function(){return d3_scale_identity(n)},identity}([0,1])},a.svg={},a.svg.arc=function(){var n=d3_svg_arcInnerRadius,e=d3_svg_arcOuterRadius,r=d3_svg_arcStartAngle,o=d3_svg_arcEndAngle;function arc(){var i=n.apply(this,arguments),a=e.apply(this,arguments),u=r.apply(this,arguments)+xn,l=o.apply(this,arguments)+xn,c=(l<u&&(c=u,u=l,l=c),l-u),s=c<z?"0":"1",d=Math.cos(u),f=Math.sin(u),_=Math.cos(l),h=Math.sin(l);return c>=bn?i?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+-i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":i?"M"+a*d+","+a*f+"A"+a+","+a+" 0 "+s+",1 "+a*_+","+a*h+"L"+i*_+","+i*h+"A"+i+","+i+" 0 "+s+",0 "+i*d+","+i*f+"Z":"M"+a*d+","+a*f+"A"+a+","+a+" 0 "+s+",1 "+a*_+","+a*h+"L0,0Z"}return arc.innerRadius=function(e){return arguments.length?(n=d3_functor(e),arc):n},arc.outerRadius=function(n){return arguments.length?(e=d3_functor(n),arc):e},arc.startAngle=function(n){return arguments.length?(r=d3_functor(n),arc):r},arc.endAngle=function(n){return arguments.length?(o=d3_functor(n),arc):o},arc.centroid=function(){var i=(n.apply(this,arguments)+e.apply(this,arguments))/2,a=(r.apply(this,arguments)+o.apply(this,arguments))/2+xn;return[Math.cos(a)*i,Math.sin(a)*i]},arc};var xn=-q,bn=T-D;function d3_svg_arcInnerRadius(n){return n.innerRadius}function d3_svg_arcOuterRadius(n){return n.outerRadius}function d3_svg_arcStartAngle(n){return n.startAngle}function d3_svg_arcEndAngle(n){return n.endAngle}function d3_svg_line(n){var e=d3_geom_pointX,r=d3_geom_pointY,o=d3_true,i=d3_svg_lineLinear,a=i.key,u=.7;function line(a){var l,c=[],s=[],d=-1,f=a.length,_=d3_functor(e),h=d3_functor(r);function segment(){c.push("M",i(n(s),u))}for(;++d<f;)o.call(this,l=a[d],d)?s.push([+_.call(this,l,d),+h.call(this,l,d)]):s.length&&(segment(),s=[]);return s.length&&segment(),c.length?c.join(""):null}return line.x=function(n){return arguments.length?(e=n,line):e},line.y=function(n){return arguments.length?(r=n,line):r},line.defined=function(n){return arguments.length?(o=n,line):o},line.interpolate=function(n){return arguments.length?(a="function"==typeof n?i=n:(i=Mn.get(n)||d3_svg_lineLinear).key,line):a},line.tension=function(n){return arguments.length?(u=n,line):u},line}a.svg.line=function(){return d3_svg_line(d3_identity)};var Mn=a.map({linear:d3_svg_lineLinear,"linear-closed":function d3_svg_lineLinearClosed(n){return d3_svg_lineLinear(n)+"Z"},step:function d3_svg_lineStep(n){var e=0,r=n.length,o=n[0],i=[o[0],",",o[1]];for(;++e<r;)i.push("H",(o[0]+(o=n[e])[0])/2,"V",o[1]);r>1&&i.push("H",o[0]);return i.join("")},"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":function d3_svg_lineBasisOpen(n){if(n.length<4)return d3_svg_lineLinear(n);var e,r=[],o=-1,i=n.length,a=[0],u=[0];for(;++o<3;)e=n[o],a.push(e[0]),u.push(e[1]);r.push(d3_svg_lineDot4(Sn,a)+","+d3_svg_lineDot4(Sn,u)),--o;for(;++o<i;)e=n[o],a.shift(),a.push(e[0]),u.shift(),u.push(e[1]),d3_svg_lineBasisBezier(r,a,u);return r.join("")},"basis-closed":function d3_svg_lineBasisClosed(n){var e,r,o=-1,i=n.length,a=i+4,u=[],l=[];for(;++o<4;)r=n[o%i],u.push(r[0]),l.push(r[1]);e=[d3_svg_lineDot4(Sn,u),",",d3_svg_lineDot4(Sn,l)],--o;for(;++o<a;)r=n[o%i],u.shift(),u.push(r[0]),l.shift(),l.push(r[1]),d3_svg_lineBasisBezier(e,u,l);return e.join("")},bundle:function d3_svg_lineBundle(n,e){var r=n.length-1;if(r)for(var o,i,a=n[0][0],u=n[0][1],l=n[r][0]-a,c=n[r][1]-u,s=-1;++s<=r;)o=n[s],i=s/r,o[0]=e*o[0]+(1-e)*(a+i*l),o[1]=e*o[1]+(1-e)*(u+i*c);return d3_svg_lineBasis(n)},cardinal:function d3_svg_lineCardinal(n,e){return n.length<3?d3_svg_lineLinear(n):n[0]+d3_svg_lineHermite(n,d3_svg_lineCardinalTangents(n,e))},"cardinal-open":function d3_svg_lineCardinalOpen(n,e){return n.length<4?d3_svg_lineLinear(n):n[1]+d3_svg_lineHermite(n.slice(1,n.length-1),d3_svg_lineCardinalTangents(n,e))},"cardinal-closed":function d3_svg_lineCardinalClosed(n,e){return n.length<3?d3_svg_lineLinear(n):n[0]+d3_svg_lineHermite((n.push(n[0]),n),d3_svg_lineCardinalTangents([n[n.length-2]].concat(n,[n[1]]),e))},monotone:function d3_svg_lineMonotone(n){return n.length<3?d3_svg_lineLinear(n):n[0]+d3_svg_lineHermite(n,function d3_svg_lineMonotoneTangents(n){var e,r,o,i,a=[],u=function d3_svg_lineFiniteDifferences(n){var e=0,r=n.length-1,o=[],i=n[0],a=n[1],u=o[0]=d3_svg_lineSlope(i,a);for(;++e<r;)o[e]=(u+(u=d3_svg_lineSlope(i=a,a=n[e+1])))/2;return o[e]=u,o}(n),l=-1,c=n.length-1;for(;++l<c;)e=d3_svg_lineSlope(n[l],n[l+1]),m(e)<D?u[l]=u[l+1]=0:(r=u[l]/e,o=u[l+1]/e,(i=r*r+o*o)>9&&(i=3*e/Math.sqrt(i),u[l]=i*r,u[l+1]=i*o));l=-1;for(;++l<=c;)i=(n[Math.min(c,l+1)][0]-n[Math.max(0,l-1)][0])/(6*(1+u[l]*u[l])),a.push([i||0,u[l]*i||0]);return a}(n))}});function d3_svg_lineLinear(n){return n.join("L")}function d3_svg_lineStepBefore(n){for(var e=0,r=n.length,o=n[0],i=[o[0],",",o[1]];++e<r;)i.push("V",(o=n[e])[1],"H",o[0]);return i.join("")}function d3_svg_lineStepAfter(n){for(var e=0,r=n.length,o=n[0],i=[o[0],",",o[1]];++e<r;)i.push("H",(o=n[e])[0],"V",o[1]);return i.join("")}function d3_svg_lineHermite(n,e){if(e.length<1||n.length!=e.length&&n.length!=e.length+2)return d3_svg_lineLinear(n);var r=n.length!=e.length,o="",i=n[0],a=n[1],u=e[0],l=u,c=1;if(r&&(o+="Q"+(a[0]-2*u[0]/3)+","+(a[1]-2*u[1]/3)+","+a[0]+","+a[1],i=n[1],c=2),e.length>1){l=e[1],a=n[c],c++,o+="C"+(i[0]+u[0])+","+(i[1]+u[1])+","+(a[0]-l[0])+","+(a[1]-l[1])+","+a[0]+","+a[1];for(var s=2;s<e.length;s++,c++)a=n[c],l=e[s],o+="S"+(a[0]-l[0])+","+(a[1]-l[1])+","+a[0]+","+a[1]}if(r){var d=n[c];o+="Q"+(a[0]+2*l[0]/3)+","+(a[1]+2*l[1]/3)+","+d[0]+","+d[1]}return o}function d3_svg_lineCardinalTangents(n,e){for(var r,o=[],i=(1-e)/2,a=n[0],u=n[1],l=1,c=n.length;++l<c;)r=a,a=u,u=n[l],o.push([i*(u[0]-r[0]),i*(u[1]-r[1])]);return o}function d3_svg_lineBasis(n){if(n.length<3)return d3_svg_lineLinear(n);var e=1,r=n.length,o=n[0],i=o[0],a=o[1],u=[i,i,i,(o=n[1])[0]],l=[a,a,a,o[1]],c=[i,",",a,"L",d3_svg_lineDot4(Sn,u),",",d3_svg_lineDot4(Sn,l)];for(n.push(n[r-1]);++e<=r;)o=n[e],u.shift(),u.push(o[0]),l.shift(),l.push(o[1]),d3_svg_lineBasisBezier(c,u,l);return n.pop(),c.push("L",o),c.join("")}function d3_svg_lineDot4(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}Mn.forEach((function(n,e){e.key=n,e.closed=/-closed$/.test(n)}));var kn=[0,2/3,1/3,0],wn=[0,1/3,2/3,0],Sn=[0,1/6,2/3,1/6];function d3_svg_lineBasisBezier(n,e,r){n.push("C",d3_svg_lineDot4(kn,e),",",d3_svg_lineDot4(kn,r),",",d3_svg_lineDot4(wn,e),",",d3_svg_lineDot4(wn,r),",",d3_svg_lineDot4(Sn,e),",",d3_svg_lineDot4(Sn,r))}function d3_svg_lineSlope(n,e){return(e[1]-n[1])/(e[0]-n[0])}function d3_svg_lineRadial(n){for(var e,r,o,i=-1,a=n.length;++i<a;)r=(e=n[i])[0],o=e[1]+xn,e[0]=r*Math.cos(o),e[1]=r*Math.sin(o);return n}function d3_svg_area(n){var e=d3_geom_pointX,r=d3_geom_pointX,o=0,i=d3_geom_pointY,a=d3_true,u=d3_svg_lineLinear,l=u.key,c=u,s="L",d=.7;function area(l){var f,_,h,g=[],p=[],m=[],y=-1,x=l.length,b=d3_functor(e),M=d3_functor(o),k=e===r?function(){return _}:d3_functor(r),w=o===i?function(){return h}:d3_functor(i);function segment(){g.push("M",u(n(m),d),s,c(n(p.reverse()),d),"Z")}for(;++y<x;)a.call(this,f=l[y],y)?(p.push([_=+b.call(this,f,y),h=+M.call(this,f,y)]),m.push([+k.call(this,f,y),+w.call(this,f,y)])):p.length&&(segment(),p=[],m=[]);return p.length&&segment(),g.length?g.join(""):null}return area.x=function(n){return arguments.length?(e=r=n,area):r},area.x0=function(n){return arguments.length?(e=n,area):e},area.x1=function(n){return arguments.length?(r=n,area):r},area.y=function(n){return arguments.length?(o=i=n,area):i},area.y0=function(n){return arguments.length?(o=n,area):o},area.y1=function(n){return arguments.length?(i=n,area):i},area.defined=function(n){return arguments.length?(a=n,area):a},area.interpolate=function(n){return arguments.length?(l="function"==typeof n?u=n:(u=Mn.get(n)||d3_svg_lineLinear).key,c=u.reverse||u,s=u.closed?"M":"L",area):l},area.tension=function(n){return arguments.length?(d=n,area):d},area}function d3_svg_chordRadius(n){return n.radius}function d3_svg_diagonalProjection(n){return[n.x,n.y]}function d3_svg_diagonalRadialProjection(n){return function(){var e=n.apply(this,arguments),r=e[0],o=e[1]+xn;return[r*Math.cos(o),r*Math.sin(o)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(n){var e=Math.sqrt(n/z);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}a.svg.line.radial=function(){var n=d3_svg_line(d3_svg_lineRadial);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,a.svg.area=function(){return d3_svg_area(d3_identity)},a.svg.area.radial=function(){var n=d3_svg_area(d3_svg_lineRadial);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},a.svg.chord=function(){var n=d3_source,e=d3_target,r=d3_svg_chordRadius,o=d3_svg_arcStartAngle,i=d3_svg_arcEndAngle;function chord(r,o){var i=subgroup(this,n,r,o),a=subgroup(this,e,r,o);return"M"+i.p0+arc(i.r,i.p1,i.a1-i.a0)+(function equals(n,e){return n.a0==e.a0&&n.a1==e.a1}(i,a)?curve(i.r,i.p1,i.r,i.p0):curve(i.r,i.p1,a.r,a.p0)+arc(a.r,a.p1,a.a1-a.a0)+curve(a.r,a.p1,i.r,i.p0))+"Z"}function subgroup(n,e,a,u){var l=e.call(n,a,u),c=r.call(n,l,u),s=o.call(n,l,u)+xn,d=i.call(n,l,u)+xn;return{r:c,a0:s,a1:d,p0:[c*Math.cos(s),c*Math.sin(s)],p1:[c*Math.cos(d),c*Math.sin(d)]}}function arc(n,e,r){return"A"+n+","+n+" 0 "+ +(r>z)+",1 "+e}function curve(n,e,r,o){return"Q 0,0 "+o}return chord.radius=function(n){return arguments.length?(r=d3_functor(n),chord):r},chord.source=function(e){return arguments.length?(n=d3_functor(e),chord):n},chord.target=function(n){return arguments.length?(e=d3_functor(n),chord):e},chord.startAngle=function(n){return arguments.length?(o=d3_functor(n),chord):o},chord.endAngle=function(n){return arguments.length?(i=d3_functor(n),chord):i},chord},a.svg.diagonal=function(){var n=d3_source,e=d3_target,r=d3_svg_diagonalProjection;function diagonal(o,i){var a=n.call(this,o,i),u=e.call(this,o,i),l=(a.y+u.y)/2,c=[a,{x:a.x,y:l},{x:u.x,y:l},u];return"M"+(c=c.map(r))[0]+"C"+c[1]+" "+c[2]+" "+c[3]}return diagonal.source=function(e){return arguments.length?(n=d3_functor(e),diagonal):n},diagonal.target=function(n){return arguments.length?(e=d3_functor(n),diagonal):e},diagonal.projection=function(n){return arguments.length?(r=n,diagonal):r},diagonal},a.svg.diagonal.radial=function(){var n=a.svg.diagonal(),e=d3_svg_diagonalProjection,r=n.projection;return n.projection=function(n){return arguments.length?r(d3_svg_diagonalRadialProjection(e=n)):e},n},a.svg.symbol=function(){var n=d3_svg_symbolType,e=d3_svg_symbolSize;function symbol(r,o){return(En.get(n.call(this,r,o))||d3_svg_symbolCircle)(e.call(this,r,o))}return symbol.type=function(e){return arguments.length?(n=d3_functor(e),symbol):n},symbol.size=function(n){return arguments.length?(e=d3_functor(n),symbol):e},symbol};var En=a.map({circle:d3_svg_symbolCircle,cross:function(n){var e=Math.sqrt(n/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(n){var e=Math.sqrt(n/(2*Cn)),r=e*Cn;return"M0,"+-e+"L"+r+",0 0,"+e+" "+-r+",0Z"},square:function(n){var e=Math.sqrt(n)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(n){var e=Math.sqrt(n/Nn),r=e*Nn/2;return"M0,"+r+"L"+e+","+-r+" "+-e+","+-r+"Z"},"triangle-up":function(n){var e=Math.sqrt(n/Nn),r=e*Nn/2;return"M0,"+-r+"L"+e+","+r+" "+-e+","+r+"Z"}});a.svg.symbolTypes=En.keys();var Nn=Math.sqrt(3),Cn=Math.tan(30*j);function d3_transition(n,e){return k(n,Pn),n.id=e,n}var Rn,An,Pn=[],Ln=0;function d3_transition_tween(n,e,r,o){var i=n.id;return d3_selection_each(n,"function"==typeof r?function(n,a,u){n.__transition__[i].tween.set(e,o(r.call(n,n.__data__,a,u)))}:(r=o(r),function(n){n.__transition__[i].tween.set(e,r)}))}function d3_transition_text(n){return null==n&&(n=""),function(){this.textContent=n}}function d3_transitionNode(n,e,r,o){var i=n.__transition__||(n.__transition__={active:0,count:0}),u=i[r];if(!u){var l=o.time;u=i[r]={tween:new d3_Map,time:l,ease:o.ease,delay:o.delay,duration:o.duration},++i.count,a.timer((function(o){var c=n.__data__,s=u.ease,d=u.delay,f=u.duration,_=Q,h=[];if(_.t=d+l,d<=o)return start(o-d);function start(o){if(i.active>r)return stop();i.active=r,u.event&&u.event.start.call(n,c,e),u.tween.forEach((function(r,o){(o=o.call(n,c,e))&&h.push(o)})),a.timer((function(){return _.c=tick(o||1)?d3_true:tick,1}),0,l)}function tick(o){if(i.active!==r)return stop();for(var a=o/f,l=s(a),d=h.length;d>0;)h[--d].call(n,l);return a>=1?(u.event&&u.event.end.call(n,c,e),stop()):void 0}function stop(){return--i.count?delete i[r]:delete n.__transition__,1}_.c=start}),0,l)}}Pn.call=S.call,Pn.empty=S.empty,Pn.node=S.node,Pn.size=S.size,a.transition=function(n){return arguments.length?Rn?n.transition():n:C.transition()},a.transition.prototype=Pn,Pn.select=function(n){var e,r,o,i=this.id,a=[];n=d3_selection_selector(n);for(var u=-1,l=this.length;++u<l;){a.push(e=[]);for(var c=this[u],s=-1,d=c.length;++s<d;)(o=c[s])&&(r=n.call(o,o.__data__,s,u))?("__data__"in o&&(r.__data__=o.__data__),d3_transitionNode(r,s,i,o.__transition__[i]),e.push(r)):e.push(null)}return d3_transition(a,i)},Pn.selectAll=function(n){var e,r,o,i,a,u=this.id,l=[];n=d3_selection_selectorAll(n);for(var c=-1,s=this.length;++c<s;)for(var d=this[c],f=-1,_=d.length;++f<_;)if(o=d[f]){a=o.__transition__[u],r=n.call(o,o.__data__,f,c),l.push(e=[]);for(var h=-1,g=r.length;++h<g;)(i=r[h])&&d3_transitionNode(i,h,u,a),e.push(i)}return d3_transition(l,u)},Pn.filter=function(n){var e,r,o=[];"function"!=typeof n&&(n=d3_selection_filter(n));for(var i=0,a=this.length;i<a;i++){o.push(e=[]);for(var u,l=0,c=(u=this[i]).length;l<c;l++)(r=u[l])&&n.call(r,r.__data__,l,i)&&e.push(r)}return d3_transition(o,this.id)},Pn.tween=function(n,e){var r=this.id;return arguments.length<2?this.node().__transition__[r].tween.get(n):d3_selection_each(this,null==e?function(e){e.__transition__[r].tween.remove(n)}:function(o){o.__transition__[r].tween.set(n,e)})},Pn.attr=function(n,e){if(arguments.length<2){for(e in n)this.attr(e,n[e]);return this}var r="transform"==n?d3_interpolateTransform:d3_interpolate,o=a.ns.qualify(n);function attrNull(){this.removeAttribute(o)}function attrNullNS(){this.removeAttributeNS(o.space,o.local)}function attrTween(n){return null==n?attrNull:(n+="",function(){var e,i=this.getAttribute(o);return i!==n&&(e=r(i,n),function(n){this.setAttribute(o,e(n))})})}function attrTweenNS(n){return null==n?attrNullNS:(n+="",function(){var e,i=this.getAttributeNS(o.space,o.local);return i!==n&&(e=r(i,n),function(n){this.setAttributeNS(o.space,o.local,e(n))})})}return d3_transition_tween(this,"attr."+n,e,o.local?attrTweenNS:attrTween)},Pn.attrTween=function(n,e){var r=a.ns.qualify(n);return this.tween("attr."+n,r.local?function attrTweenNS(n,o){var i=e.call(this,n,o,this.getAttributeNS(r.space,r.local));return i&&function(n){this.setAttributeNS(r.space,r.local,i(n))}}:function attrTween(n,o){var i=e.call(this,n,o,this.getAttribute(r));return i&&function(n){this.setAttribute(r,i(n))}})},Pn.style=function(n,e,r){var o=arguments.length;if(o<3){if("string"!=typeof n){for(r in o<2&&(e=""),n)this.style(r,n[r],e);return this}r=""}function styleNull(){this.style.removeProperty(n)}function styleString(e){return null==e?styleNull:(e+="",function(){var o,i=s.getComputedStyle(this,null).getPropertyValue(n);return i!==e&&(o=d3_interpolate(i,e),function(e){this.style.setProperty(n,o(e),r)})})}return d3_transition_tween(this,"style."+n,e,styleString)},Pn.styleTween=function(n,e,r){function styleTween(o,i){var a=e.call(this,o,i,s.getComputedStyle(this,null).getPropertyValue(n));return a&&function(e){this.style.setProperty(n,a(e),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,styleTween)},Pn.text=function(n){return d3_transition_tween(this,"text",n,d3_transition_text)},Pn.remove=function(){return this.each("end.transition",(function(){var n;this.__transition__.count<2&&(n=this.parentNode)&&n.removeChild(this)}))},Pn.ease=function(n){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof n&&(n=a.ease.apply(a,arguments)),d3_selection_each(this,(function(r){r.__transition__[e].ease=n})))},Pn.delay=function(n){var e=this.id;return d3_selection_each(this,"function"==typeof n?function(r,o,i){r.__transition__[e].delay=+n.call(r,r.__data__,o,i)}:(n=+n,function(r){r.__transition__[e].delay=n}))},Pn.duration=function(n){var e=this.id;return d3_selection_each(this,"function"==typeof n?function(r,o,i){r.__transition__[e].duration=Math.max(1,n.call(r,r.__data__,o,i))}:(n=Math.max(1,n),function(r){r.__transition__[e].duration=n}))},Pn.each=function(n,e){var r=this.id;if(arguments.length<2){var o=An,i=Rn;Rn=r,d3_selection_each(this,(function(e,o,i){An=e.__transition__[r],n.call(e,e.__data__,o,i)})),An=o,Rn=i}else d3_selection_each(this,(function(o){var i=o.__transition__[r];(i.event||(i.event=a.dispatch("start","end"))).on(n,e)}));return this},Pn.transition=function(){for(var n,e,r,o=this.id,i=++Ln,a=[],u=0,l=this.length;u<l;u++){a.push(n=[]);for(var c,s=0,d=(c=this[u]).length;s<d;s++)(e=c[s])&&((r=Object.create(e.__transition__[o])).delay+=r.duration,d3_transitionNode(e,s,i,r)),n.push(e)}return d3_transition(a,i)},a.svg.axis=function(){var n,e=a.scale.linear(),r=zn,o=6,i=6,u=3,l=[10],c=null;function axis(s){s.each((function(){var s,d=a.select(this),f=this.__chart__||e,_=this.__chart__=e.copy(),h=null==c?_.ticks?_.ticks.apply(_,l):_.domain():c,g=null==n?_.tickFormat?_.tickFormat.apply(_,l):d3_identity:n,p=d.selectAll(".tick").data(h,_),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",D),y=a.transition(p.exit()).style("opacity",D).remove(),x=a.transition(p).style("opacity",1),b=d3_scaleRange(_),M=d.selectAll(".domain").data([0]),k=(M.enter().append("path").attr("class","domain"),a.transition(M));m.append("line"),m.append("text");var w=m.select("line"),S=x.select("line"),E=p.select("text").text(g),N=m.select("text"),C=x.select("text");switch(r){case"bottom":s=d3_svg_axisX,w.attr("y2",o),N.attr("y",Math.max(o,0)+u),S.attr("x2",0).attr("y2",o),C.attr("x",0).attr("y",Math.max(o,0)+u),E.attr("dy",".71em").style("text-anchor","middle"),k.attr("d","M"+b[0]+","+i+"V0H"+b[1]+"V"+i);break;case"top":s=d3_svg_axisX,w.attr("y2",-o),N.attr("y",-(Math.max(o,0)+u)),S.attr("x2",0).attr("y2",-o),C.attr("x",0).attr("y",-(Math.max(o,0)+u)),E.attr("dy","0em").style("text-anchor","middle"),k.attr("d","M"+b[0]+","+-i+"V0H"+b[1]+"V"+-i);break;case"left":s=d3_svg_axisY,w.attr("x2",-o),N.attr("x",-(Math.max(o,0)+u)),S.attr("x2",-o).attr("y2",0),C.attr("x",-(Math.max(o,0)+u)).attr("y",0),E.attr("dy",".32em").style("text-anchor","end"),k.attr("d","M"+-i+","+b[0]+"H0V"+b[1]+"H"+-i);break;case"right":s=d3_svg_axisY,w.attr("x2",o),N.attr("x",Math.max(o,0)+u),S.attr("x2",o).attr("y2",0),C.attr("x",Math.max(o,0)+u).attr("y",0),E.attr("dy",".32em").style("text-anchor","start"),k.attr("d","M"+i+","+b[0]+"H0V"+b[1]+"H"+i)}if(_.rangeBand){var R=_,A=R.rangeBand()/2;f=_=function(n){return R(n)+A}}else f.rangeBand?f=_:y.call(s,_);m.call(s,f),x.call(s,_)}))}return axis.scale=function(n){return arguments.length?(e=n,axis):e},axis.orient=function(n){return arguments.length?(r=n in Tn?n+"":zn,axis):r},axis.ticks=function(){return arguments.length?(l=arguments,axis):l},axis.tickValues=function(n){return arguments.length?(c=n,axis):c},axis.tickFormat=function(e){return arguments.length?(n=e,axis):n},axis.tickSize=function(n){var e=arguments.length;return e?(o=+n,i=+arguments[e-1],axis):o},axis.innerTickSize=function(n){return arguments.length?(o=+n,axis):o},axis.outerTickSize=function(n){return arguments.length?(i=+n,axis):i},axis.tickPadding=function(n){return arguments.length?(u=+n,axis):u},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var zn="bottom",Tn={top:1,right:1,bottom:1,left:1};function d3_svg_axisX(n,e){n.attr("transform",(function(n){return"translate("+e(n)+",0)"}))}function d3_svg_axisY(n,e){n.attr("transform",(function(n){return"translate(0,"+e(n)+")"}))}a.svg.brush=function(){var n,e,r=d3_eventDispatch(brush,"brushstart","brush","brushend"),o=null,i=null,u=[0,0],l=[0,0],c=!0,d=!0,f=Dn[0];function brush(n){n.each((function(){var n=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),e=n.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=n.selectAll(".resize").data(f,d3_identity);r.exit().remove(),r.enter().append("g").attr("class",(function(n){return"resize "+n})).style("cursor",(function(n){return qn[n]})).append("rect").attr("x",(function(n){return/[ew]$/.test(n)?-3:null})).attr("y",(function(n){return/^[ns]/.test(n)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",brush.empty()?"none":null);var u,l=a.transition(n),c=a.transition(e);o&&(u=d3_scaleRange(o),c.attr("x",u[0]).attr("width",u[1]-u[0]),redrawX(l)),i&&(u=d3_scaleRange(i),c.attr("y",u[0]).attr("height",u[1]-u[0]),redrawY(l)),redraw(l)}))}function redraw(n){n.selectAll(".resize").attr("transform",(function(n){return"translate("+u[+/e$/.test(n)]+","+l[+/^s/.test(n)]+")"}))}function redrawX(n){n.select(".extent").attr("x",u[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function redrawY(n){n.select(".extent").attr("y",l[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function brushstart(){var f,_,h=this,g=a.select(a.event.target),p=r.of(h,arguments),m=a.select(h),y=g.datum(),x=!/^(n|s)$/.test(y)&&o,b=!/^(e|w)$/.test(y)&&i,M=g.classed("extent"),k=d3_event_dragSuppress(),w=a.mouse(h),S=a.select(s).on("keydown.brush",keydown).on("keyup.brush",keyup);if(a.event.changedTouches?S.on("touchmove.brush",brushmove).on("touchend.brush",brushend):S.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),m.interrupt().selectAll("*").interrupt(),M)w[0]=u[0]-w[0],w[1]=l[0]-w[1];else if(y){var E=+/w$/.test(y),N=+/^n/.test(y);_=[u[1-E]-w[0],l[1-N]-w[1]],w[0]=u[E],w[1]=l[N]}else a.event.altKey&&(f=w.slice());function keydown(){32==a.event.keyCode&&(M||(f=null,w[0]-=u[1],w[1]-=l[1],M=2),d3_eventPreventDefault())}function keyup(){32==a.event.keyCode&&2==M&&(w[0]+=u[1],w[1]+=l[1],M=0,d3_eventPreventDefault())}function brushmove(){var n=a.mouse(h),e=!1;_&&(n[0]+=_[0],n[1]+=_[1]),M||(a.event.altKey?(f||(f=[(u[0]+u[1])/2,(l[0]+l[1])/2]),w[0]=u[+(n[0]<f[0])],w[1]=l[+(n[1]<f[1])]):f=null),x&&move1(n,o,0)&&(redrawX(m),e=!0),b&&move1(n,i,1)&&(redrawY(m),e=!0),e&&(redraw(m),p({type:"brush",mode:M?"move":"resize"}))}function move1(r,o,i){var a,s,_=d3_scaleRange(o),h=_[0],g=_[1],p=w[i],m=i?l:u,y=m[1]-m[0];if(M&&(h-=p,g-=y+p),a=(i?d:c)?Math.max(h,Math.min(g,r[i])):r[i],M?s=(a+=p)+y:(f&&(p=Math.max(h,Math.min(g,2*f[i]-a))),p<a?(s=a,a=p):s=p),m[0]!=a||m[1]!=s)return i?e=null:n=null,m[0]=a,m[1]=s,!0}function brushend(){brushmove(),m.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),a.select("body").style("cursor",null),S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),p({type:"brushend"})}m.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",g.style("cursor")),p({type:"brushstart"}),brushmove()}return brush.event=function(o){o.each((function(){var o=r.of(this,arguments),i={x:u,y:l,i:n,j:e},c=this.__chart__||i;this.__chart__=i,Rn?a.select(this).transition().each("start.brush",(function(){n=c.i,e=c.j,u=c.x,l=c.y,o({type:"brushstart"})})).tween("brush:brush",(function(){var r=d3_interpolateArray(u,i.x),a=d3_interpolateArray(l,i.y);return n=e=null,function(n){u=i.x=r(n),l=i.y=a(n),o({type:"brush",mode:"resize"})}})).each("end.brush",(function(){n=i.i,e=i.j,o({type:"brush",mode:"resize"}),o({type:"brushend"})})):(o({type:"brushstart"}),o({type:"brush",mode:"resize"}),o({type:"brushend"}))}))},brush.x=function(n){return arguments.length?(f=Dn[!(o=n)<<1|!i],brush):o},brush.y=function(n){return arguments.length?(f=Dn[!o<<1|!(i=n)],brush):i},brush.clamp=function(n){return arguments.length?(o&&i?(c=!!n[0],d=!!n[1]):o?c=!!n:i&&(d=!!n),brush):o&&i?[c,d]:o?c:i?d:null},brush.extent=function(r){var a,c,s,d,f;return arguments.length?(o&&(a=r[0],c=r[1],i&&(a=a[0],c=c[0]),n=[a,c],o.invert&&(a=o(a),c=o(c)),c<a&&(f=a,a=c,c=f),a==u[0]&&c==u[1]||(u=[a,c])),i&&(s=r[0],d=r[1],o&&(s=s[1],d=d[1]),e=[s,d],i.invert&&(s=i(s),d=i(d)),d<s&&(f=s,s=d,d=f),s==l[0]&&d==l[1]||(l=[s,d])),brush):(o&&(n?(a=n[0],c=n[1]):(a=u[0],c=u[1],o.invert&&(a=o.invert(a),c=o.invert(c)),c<a&&(f=a,a=c,c=f))),i&&(e?(s=e[0],d=e[1]):(s=l[0],d=l[1],i.invert&&(s=i.invert(s),d=i.invert(d)),d<s&&(f=s,s=d,d=f))),o&&i?[[a,s],[c,d]]:o?[a,c]:i&&[s,d])},brush.clear=function(){return brush.empty()||(u=[0,0],l=[0,0],n=e=null),brush},brush.empty=function(){return!!o&&u[0]==u[1]||!!i&&l[0]==l[1]},a.rebind(brush,r,"on")};var qn={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Dn=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],jn=ot.format=st.timeFormat,Bn=jn.utc,Fn=Bn("%Y-%m-%dT%H:%M:%S.%LZ");function d3_time_formatIsoNative(n){return n.toISOString()}function d3_time_scale(n,e,r){function scale(e){return n(e)}function tickMethod(n,r){var o=(n[1]-n[0])/r,i=a.bisect(Hn,o);return i==Hn.length?[e.year,d3_scale_linearTickRange(n.map((function(n){return n/31536e6})),r)[2]]:i?e[o/Hn[i-1]<Hn[i]/o?i-1:i]:[Yn,d3_scale_linearTickRange(n,r)[2]]}return scale.invert=function(e){return d3_time_scaleDate(n.invert(e))},scale.domain=function(e){return arguments.length?(n.domain(e),scale):n.domain().map(d3_time_scaleDate)},scale.nice=function(n,e){var r=scale.domain(),o=d3_scaleExtent(r),i=null==n?tickMethod(o,10):"number"==typeof n&&tickMethod(o,n);function skipped(r){return!isNaN(r)&&!n.range(r,d3_time_scaleDate(+r+1),e).length}return i&&(n=i[0],e=i[1]),scale.domain(d3_scale_nice(r,e>1?{floor:function(e){for(;skipped(e=n.floor(e));)e=d3_time_scaleDate(e-1);return e},ceil:function(e){for(;skipped(e=n.ceil(e));)e=d3_time_scaleDate(+e+1);return e}}:n))},scale.ticks=function(n,e){var r=d3_scaleExtent(scale.domain()),o=null==n?tickMethod(r,10):"number"==typeof n?tickMethod(r,n):!n.range&&[{range:n},e];return o&&(n=o[0],e=o[1]),n.range(r[0],d3_time_scaleDate(+r[1]+1),e<1?1:e)},scale.tickFormat=function(){return r},scale.copy=function(){return d3_time_scale(n.copy(),e,r)},d3_scale_linearRebind(scale,n)}function d3_time_scaleDate(n){return new Date(n)}jn.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:Fn,d3_time_formatIsoNative.parse=function(n){var e=new Date(n);return isNaN(e)?null:e},d3_time_formatIsoNative.toString=Fn.toString,ot.second=d3_time_interval((function(n){return new it(1e3*Math.floor(n/1e3))}),(function(n,e){n.setTime(n.getTime()+1e3*Math.floor(e))}),(function(n){return n.getSeconds()})),ot.seconds=ot.second.range,ot.seconds.utc=ot.second.utc.range,ot.minute=d3_time_interval((function(n){return new it(6e4*Math.floor(n/6e4))}),(function(n,e){n.setTime(n.getTime()+6e4*Math.floor(e))}),(function(n){return n.getMinutes()})),ot.minutes=ot.minute.range,ot.minutes.utc=ot.minute.utc.range,ot.hour=d3_time_interval((function(n){var e=n.getTimezoneOffset()/60;return new it(36e5*(Math.floor(n/36e5-e)+e))}),(function(n,e){n.setTime(n.getTime()+36e5*Math.floor(e))}),(function(n){return n.getHours()})),ot.hours=ot.hour.range,ot.hours.utc=ot.hour.utc.range,ot.month=d3_time_interval((function(n){return(n=ot.day(n)).setDate(1),n}),(function(n,e){n.setMonth(n.getMonth()+e)}),(function(n){return n.getMonth()})),ot.months=ot.month.range,ot.months.utc=ot.month.utc.range;var Hn=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],In=[[ot.second,1],[ot.second,5],[ot.second,15],[ot.second,30],[ot.minute,1],[ot.minute,5],[ot.minute,15],[ot.minute,30],[ot.hour,1],[ot.hour,3],[ot.hour,6],[ot.hour,12],[ot.day,1],[ot.day,2],[ot.week,1],[ot.month,1],[ot.month,3],[ot.year,1]],Un=jn.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",d3_true]]),Yn={range:function(n,e,r){return a.range(+n,+e,r).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};In.year=ot.year,ot.scale=function(){return d3_time_scale(a.scale.linear(),In,Un)};var On=In.map((function(n){return[n[0].utc,n[1]]})),Vn=Bn.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",d3_true]]);function d3_json(n){return JSON.parse(n.responseText)}function d3_html(n){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(n.responseText)}On.year=ot.year.utc,ot.scale.utc=function(){return d3_time_scale(a.scale.linear(),On,Vn)},a.text=d3_xhrType((function(n){return n.responseText})),a.json=function(n,e){return d3_xhr(n,"application/json",d3_json,e)},a.html=function(n,e){return d3_xhr(n,"text/html",d3_html,e)},a.xml=d3_xhrType((function(n){return n.responseXML})),void 0===(i="function"==typeof(o=a)?o.call(e,r,e,n):o)||(n.exports=i)}()}}]);